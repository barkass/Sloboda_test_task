  [1m[36m (151.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (166.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.8ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20170626204921)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (27.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170626204921"]]
  [1m[36m (188.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-06-26 23:55:19 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Rendered /usr/lib/ruby/vendor_ruby/rails/templates/rails/welcome/index.html.erb (14.6ms)
Completed 200 OK in 269ms (Views: 189.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-26 23:59:15 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendered /usr/lib/ruby/vendor_ruby/rails/templates/rails/welcome/index.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2017-06-26 23:59:32 +0300

ActionController::RoutingError (No route matches [GET] "/home"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (6.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (65.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (174.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (73.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (3.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (125.6ms)


Started GET "/persons/profile" for 127.0.0.1 at 2017-06-26 23:59:56 +0300
Processing by PersonsController#profile as HTML
  Rendered persons/profile.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4773ms (Views: 4769.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/persons.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/assets/jquery.self-c03f4eaf1119e6e68820418ad53c328101312ebc906325c60ad7c32edaa360b7.js?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/assets/jquery_ujs.self-d456baa54c1fa6be2ec3711f0a72ddf7a5b2f34a6b4f515f33767d6207b7d4b3.js?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/assets/persons.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2017-06-27 00:00:01 +0300


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-27 00:00:10 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (227.1ms)
Completed 200 OK in 725ms (Views: 678.5ms | ActiveRecord: 2.9ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-27 00:01:53 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (27.2ms)
Completed 200 OK in 558ms (Views: 552.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-27 00:03:35 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 462ms (Views: 454.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 00:04:53 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendered /usr/lib/ruby/vendor_ruby/rails/templates/rails/welcome/index.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 00:24:13 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 92ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-27 00:24:14 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (155.9ms)
Completed 200 OK in 2275ms (Views: 2199.2ms | ActiveRecord: 4.8ms)


Started GET "/assets/books.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-06-27 00:24:16 +0300


Started GET "/assets/books.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-06-27 00:24:16 +0300


Started GET "/" for 127.0.0.1 at 2017-06-27 00:24:50 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-27 00:24:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (23.3ms)
Completed 200 OK in 645ms (Views: 638.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-27 00:25:33 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 460ms (Views: 455.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 00:26:07 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lbpyYjo5XK4lgX2Pz7XPKEJLGSJwrakBgj2ez/8Ype5pmA5vfFZ9WFoZ/SMih3SSHfdmMKQfF+x7cdnfzzniPg==", "user"=>{"email"=>"testtest@test", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'testtest@test' LIMIT 1[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "testtest@test"], ["encrypted_password", "$2a$11$y1BuqLnPi7qNStcBCvdAouDj4VL8DLQdIL2p0VcRFESfRdekXBdry"], ["created_at", "2017-06-26 21:26:08.048001"], ["updated_at", "2017-06-26 21:26:08.048001"]]
  [1m[36m (187.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (13.0ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2017-06-26 21:26:08.249334"], ["current_sign_in_at", "2017-06-26 21:26:08.249334"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-26 21:26:08.251680"], ["id", 1]]
  [1m[35m (169.6ms)[0m  commit transaction
Completed 500 Internal Server Error in 992ms (ActiveRecord: 377.8ms)

NameError (undefined local variable or method `current_user_path' for #<Devise::RegistrationsController:0x00000003786218>
Did you mean?  current_user):
  app/controllers/application_controller.rb:5:in `after_sign_in_path_for'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (19.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (18.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (115.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (2.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (72.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (137.8ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 00:28:09 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jGx8yXVR6XVv009MugMZlefTZXZeT1hmrJiycI6Te0JwTgDEMz7IgxBLz+BXMaIvuG8aZIr95otV1PVgvrI8kg==", "user"=>{"email"=>"testtest@test", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (4.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'testtest@test' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 892ms (Views: 573.0ms | ActiveRecord: 5.1ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 00:28:22 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SBYw7VaeKVHRMHgpzrvh1DuLW5zeLZId3wiYzUzbJPa0NEzgEPEIp66o+IUjiVpuZDckjgqfLPAmRN/dfPpjJg==", "user"=>{"email"=>"testtest@test1.123", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'testtest@test1.123' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 820ms (Views: 553.8ms | ActiveRecord: 1.1ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 00:28:34 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GiJqOKnVSrQ9jWtfUrYi2e7/lL9+YBA1DQzTgYQoktPmABY177prQkIV6/O/hJljsUPrrarSrtj0QJSRtAnVAw==", "user"=>{"email"=>"testtest@test1.123", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (3.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'testtest@test1.123' LIMIT 1
  [1m[36mSQL (10.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "testtest@test1.123"], ["encrypted_password", "$2a$11$ULKqQyZ1M73bCKemql0JheL/zgw7FBhB2FkWRT0nmjIUVJ90.GCSa"], ["created_at", "2017-06-26 21:28:34.631040"], ["updated_at", "2017-06-26 21:28:34.631040"]]
  [1m[35m (315.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-26 21:28:34.970182"], ["current_sign_in_at", "2017-06-26 21:28:34.970182"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-26 21:28:34.976029"], ["id", 2]]
  [1m[36m (198.3ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 848ms (ActiveRecord: 531.9ms)

NameError (undefined local variable or method `current_user_path' for #<Devise::RegistrationsController:0x007f319c0f6458>
Did you mean?  current_user):
  app/controllers/application_controller.rb:5:in `after_sign_in_path_for'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (20.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (93.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (40.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (94.2ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 00:29:32 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GiJqOKnVSrQ9jWtfUrYi2e7/lL9+YBA1DQzTgYQoktPmABY177prQkIV6/O/hJljsUPrrarSrtj0QJSRtAnVAw==", "user"=>{"email"=>"testtest@test1.123", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'testtest@test1.123' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 807ms (Views: 515.1ms | ActiveRecord: 8.6ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 00:29:45 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kA+ClPqX1HHH3fmTQM0vwcekTXyen7z/fApdVDM+hTdsLf6ZvPj1h7hFeT+t/5R7mBgybkotAhKFRhpEAx/C5w==", "user"=>{"email"=>"testtest@test1.1231", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'testtest@test1.1231' LIMIT 1
  [1m[36mSQL (8.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "testtest@test1.1231"], ["encrypted_password", "$2a$11$HiirGrQaEOV60gkM7itH4Opp98HWcoJyTyFDS51KYSRhGHTu51ug6"], ["created_at", "2017-06-26 21:29:45.932315"], ["updated_at", "2017-06-26 21:29:45.932315"]]
  [1m[35m (199.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-26 21:29:46.148226"], ["current_sign_in_at", "2017-06-26 21:29:46.148226"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-26 21:29:46.152677"], ["id", 3]]
  [1m[36m (190.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 682ms (ActiveRecord: 404.7ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 00:29:46 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 3]]
  Rendered books/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 558ms (Views: 550.7ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 22:46:14 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:392:in `check_pending!'
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:373:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:88:in `__run_callbacks__'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:778:in `_run_call_callbacks'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:27:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/reloader.rb:73:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/remote_ip.rb:78:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (6.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (102.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (135.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (371.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateBooks (20170626213823)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateBooks (20170626213823)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateBooks (20170626213823)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateBooks (20170626213823)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (27.9ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170626213823"]]
  [1m[36m (214.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.8ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.9ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-06-27 23:00:16 +0300
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  Rendered books/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 1405ms (Views: 1258.5ms | ActiveRecord: 4.0ms)


Started GET "/assets/books.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/persons.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/jquery.self-c03f4eaf1119e6e68820418ad53c328101312ebc906325c60ad7c32edaa360b7.js?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/jquery_ujs.self-d456baa54c1fa6be2ec3711f0a72ddf7a5b2f34a6b4f515f33767d6207b7d4b3.js?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/books.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-06-27 23:00:18 +0300


Started GET "/assets/persons.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-06-27 23:00:19 +0300


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2017-06-27 23:00:19 +0300


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-27 23:00:34 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"64f80lmAWIiP8ofeTj9ZmAOGi430Dzv+8AVOx9YTzKMXpYDfH+95fvBqB3KjDeIiXDr0nyC9hRMJSQnX5jKLcw=="}
  [1m[35mUser Load (8.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 3]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 129ms (ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:00:34 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-27 23:00:35 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (146.7ms)
Completed 200 OK in 736ms (Views: 716.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-27 23:00:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CEWPW71o6HRuKJM1UX3el2dF6ZqO54MEuG2Wv2fG8oDsmlMX0S1friWw57Y8/F0jjoD7SeZmW5416LHrd1XtDA==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "test@test.test"]]
Completed 401 Unauthorized in 30ms (ActiveRecord: 2.7ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CEWPW71o6HRuKJM1UX3el2dF6ZqO54MEuG2Wv2fG8oDsmlMX0S1friWw57Y8/F0jjoD7SeZmW5416LHrd1XtDA==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.9ms)
Completed 200 OK in 896ms (Views: 598.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-27 23:01:00 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 693ms (Views: 684.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 23:01:09 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+LxFdjIxzeM3HcbjTHz7F6E9Jp3Fy53aLsfZzh5OI7ccY5k6XnR6OXyFsmAh/XijSPg0Tq1KRUCjQv6aDt08Ow==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.test' LIMIT 1[0m
  [1m[35mSQL (9.9ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["encrypted_password", "$2a$11$CSdRAAu/or0Ypyg/yyIl7u9khx8/bU2zdvaNodCHuasMv1mbsbnXW"], ["created_at", "2017-06-27 20:01:09.723802"], ["updated_at", "2017-06-27 20:01:09.723802"]]
  [1m[36m (194.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2017-06-27 20:01:09.934273"], ["current_sign_in_at", "2017-06-27 20:01:09.934273"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-27 20:01:09.938676"], ["id", 4]]
  [1m[35m (234.5ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 806ms (ActiveRecord: 442.5ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:01:10 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  Rendered books/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 511ms (Views: 504.0ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:01:18 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
  Rendered books/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 490ms (Views: 479.5ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:13:59 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (4.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  [1m[35mBook Load (0.8ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (134.3ms)
Completed 500 Internal Server Error in 251ms (ActiveRecord: 21.0ms)

ActionView::Template::Error (undefined local variable or method `new_book_path' for #<#<Class:0x00000004142c70>:0x00000004129248>
Did you mean?  new_session_path):
    22: 
    23: <br>
    24: 
    25: <%= link_to 'New Book', new_book_path %>
  app/views/books/index.html.erb:25:in `_app_views_books_index_html_erb__1619942547010780133_34141600'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (21.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (69.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (39.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (101.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:19:34 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (168.5ms)
Completed 500 Internal Server Error in 264ms (ActiveRecord: 12.6ms)

ActionView::Template::Error (undefined local variable or method `new_book_path' for #<#<Class:0x000000043cdaf8>:0x000000043bb790>
Did you mean?  new_session_path):
    22: 
    23: <br>
    24: 
    25: <%= link_to 'New Book', new_book_path %>
  app/views/books/index.html.erb:25:in `_app_views_books_index_html_erb__1619942547010780133_34141600'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (18.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (43.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (79.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:21:28 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 951ms (Views: 888.6ms | ActiveRecord: 6.2ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:21:34 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  Rendered books/_form.html.erb (66.2ms)
  Rendered books/new.html.erb within layouts/application (78.9ms)
Completed 500 Internal Server Error in 141ms (ActiveRecord: 3.8ms)

ActionView::Template::Error (undefined method `books_path' for #<#<Class:0x00000004ecc4b8>:0x007feed4a4e2f8>):
    1: <%= form_for(@book) do |f| %>
    2:   <% if @book.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@book.errors.count, "error") %> prohibited this book from being saved:</h2>
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb___3013263284516609042_70331873264740'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__4473163377145738835_70331873257440'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (21.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (35.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (66.9ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:21:35 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
  Rendered books/_form.html.erb (77.8ms)
  Rendered books/new.html.erb within layouts/application (92.0ms)
Completed 500 Internal Server Error in 147ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `books_path' for #<#<Class:0x00000004ecc4b8>:0x007feed5d35c90>):
    1: <%= form_for(@book) do |f| %>
    2:   <% if @book.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@book.errors.count, "error") %> prohibited this book from being saved:</h2>
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb___3013263284516609042_70331883216420'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__4473163377145738835_70331883168940'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (22.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (43.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (80.5ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:23:25 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  Rendered books/_form.html.erb (4.7ms)
  Rendered books/new.html.erb within layouts/application (19.1ms)
Completed 200 OK in 541ms (Views: 447.4ms | ActiveRecord: 6.9ms)


Started POST "/books/index" for 127.0.0.1 at 2017-06-27 23:23:29 +0300

ActionController::RoutingError (No route matches [POST] "/books/index"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (5.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (14.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (85.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (34.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (73.9ms)


Started POST "/books/index" for 127.0.0.1 at 2017-06-27 23:23:45 +0300

ActionController::RoutingError (No route matches [POST] "/books/index"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (3.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (3.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (59.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (37.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (80.3ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:29:17 +0300

ArgumentError (Invalid route name, already in use: 'new_book' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
http://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  config/routes.rb:12:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (15.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (42.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (85.8ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:30:16 +0300
  [1m[35mActiveRecord::SchemaMigration Load (1.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:392:in `check_pending!'
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:373:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:88:in `__run_callbacks__'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:778:in `_run_call_callbacks'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:27:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/reloader.rb:73:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/remote_ip.rb:78:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (34.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (69.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateBooks (20170627202819)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateBooks (20170627202819)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (155.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (14.2ms)[0m  select sqlite_version(*)
  [1m[36m (186.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.9ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20170626204921)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (4.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170626204921"]]
  [1m[36m (199.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateBooks (20170627202819)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170627202819"]]
  [1m[36m (196.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (3.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2017-06-27 23:32:52 +0300
  [1m[36mActiveRecord::SchemaMigration Load (4.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
Completed 401 Unauthorized in 144ms (ActiveRecord: 5.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-27 23:32:52 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (112.6ms)
Completed 200 OK in 1628ms (Views: 1566.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/scaffolds.self-b2205e5c9de3dfca0f674f95eae620a844cce3da7aa319f8cd552a6f09299671.css?body=1" for 127.0.0.1 at 2017-06-27 23:32:54 +0300


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-27 23:33:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Tv7ehHoayQBe4TYmG9kw+COvNa3v8mgIWlfoNtA8LiGqIQLIFl9+2hV5QqV2WLNMymonfodzsJLX0s9iwK8xrQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "test@test.test"]]
Completed 401 Unauthorized in 37ms (ActiveRecord: 1.6ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Tv7ehHoayQBe4TYmG9kw+COvNa3v8mgIWlfoNtA8LiGqIQLIFl9+2hV5QqV2WLNMymonfodzsJLX0s9iwK8xrQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (28.8ms)
Completed 200 OK in 760ms (Views: 462.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-27 23:33:13 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 520ms (Views: 514.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-06-27 23:33:22 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RuH2zYNwhxLPWWgunWABZwjaTMwXvcgV74oEhj44KDGiPiqB7zUwyITBHK3w4YLT4R9eH388EI9iDyPSLqs3vQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.test' LIMIT 1[0m
  [1m[35mSQL (5.0ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["encrypted_password", "$2a$11$wgiSzbfUy3nvYZGRflcJWOt/tQnz0UejYm9xQ1s5lrPKnIqMbytpq"], ["created_at", "2017-06-27 20:33:23.090602"], ["updated_at", "2017-06-27 20:33:23.090602"]]
  [1m[36m (311.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (6.8ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2017-06-27 20:33:23.412945"], ["current_sign_in_at", "2017-06-27 20:33:23.412945"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-27 20:33:23.416132"], ["id", 1]]
  [1m[35m (180.2ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 915ms (ActiveRecord: 504.3ms)


Started GET "/" for 127.0.0.1 at 2017-06-27 23:33:23 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.3ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 432ms (Views: 403.7ms | ActiveRecord: 5.4ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:33:29 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (49.6ms)
  Rendered books/new.html.erb within layouts/application (69.3ms)
Completed 500 Internal Server Error in 135ms (ActiveRecord: 5.3ms)

ActionView::Template::Error (undefined method `preview' for #<Book:0x007f4ade0a5a20>):
    21:   </div>
    22:   <div class="field">
    23:     <%= f.label :preview %><br>
    24:     <%= f.text_field :preview %>
    25:   </div>
    26:   <div class="field">
    27:     <%= f.label :description %><br>
  app/views/books/_form.html.erb:24:in `block in _app_views_books__form_html_erb__3446711231530690085_69979764565520'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__3446711231530690085_69979764565520'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb___499651258861066293_69979764580660'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (24.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (77.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (46.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (91.1ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:33:30 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (6.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered books/_form.html.erb (53.1ms)
  Rendered books/new.html.erb within layouts/application (66.8ms)
Completed 500 Internal Server Error in 109ms (ActiveRecord: 6.0ms)

ActionView::Template::Error (undefined method `preview' for #<Book:0x007f4ade005638>):
    21:   </div>
    22:   <div class="field">
    23:     <%= f.label :preview %><br>
    24:     <%= f.text_field :preview %>
    25:   </div>
    26:   <div class="field">
    27:     <%= f.label :description %><br>
  app/views/books/_form.html.erb:24:in `block in _app_views_books__form_html_erb__3446711231530690085_69979764402800'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__3446711231530690085_69979764402800'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb___499651258861066293_69979764415980'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (26.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (81.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (36.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (72.0ms)


Started PUT "/books/console/repl_sessions/8e85e20faa89fa1198f1557cb8c51bcd" for 127.0.0.1 at 2017-06-27 23:34:12 +0300


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:35:47 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (42.0ms)
  Rendered books/new.html.erb within layouts/application (52.0ms)
Completed 200 OK in 523ms (Views: 416.0ms | ActiveRecord: 9.2ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-27 23:36:28 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (4.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered books/_form.html.erb (22.9ms)
  Rendered books/new.html.erb within layouts/application (42.9ms)
Completed 200 OK in 384ms (Views: 374.1ms | ActiveRecord: 4.3ms)


Started POST "/books" for 127.0.0.1 at 2017-06-27 23:36:43 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XYp0LRU2ossqpZwL8512f76ccNIzpybD36/CMOBJr425VahheXMVEWE96IieHPXLV1liAVsm/llSKuVk8NqwAQ==", "book"=>{"name"=>"fijgdfgjn", "author"=>"kfjdkgjdlk", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f4addfb5390 @tempfile=#<Tempfile:/tmp/RackMultipart20170627-22430-6lqh5f.jpg>, @original_filename="02.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"02.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"fkdnglkfdngl", "category"=>"12"}, "commit"=>"Create Book"}
  [1m[36mUser Load (3.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Command :: file -b --mime '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-1oan45s.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-i3j7qs.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-i3j7qs.jpg[0]'
Command :: convert '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-i3j7qs.jpg[0]' -auto-orient -resize "300x300>" '/tmp/9a3100c21e521a8612c3fc1936eeba5a20170627-22430-lf3y4r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-i3j7qs.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-i3j7qs.jpg[0]'
Command :: convert '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-i3j7qs.jpg[0]' -auto-orient -resize "100x100>" '/tmp/9a3100c21e521a8612c3fc1936eeba5a20170627-22430-55zzmq'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/a2ef406e2c2351e0b9e80029c909242d20170627-22430-pycl5k.jpg'
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "category", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "fijgdfgjn"], ["author", "kfjdkgjdlk"], ["preview_file_name", "02.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 249422], ["preview_updated_at", "2017-06-27 20:36:43.651745"], ["description", "fkdnglkfdngl"], ["category", "12"], ["created_at", "2017-06-27 20:36:44.956233"], ["updated_at", "2017-06-27 20:36:44.956233"]]
  [1m[35m (234.7ms)[0m  commit transaction
Redirected to http://localhost:3000/books/1
Completed 302 Found in 1683ms (ActiveRecord: 242.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-06-27 23:36:45 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.3ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 1]]
  Rendered books/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 333ms (Views: 304.3ms | ActiveRecord: 2.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-06-28 00:38:24 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.6ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 1]]
  Rendered books/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 353ms (Views: 340.0ms | ActiveRecord: 4.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-06-28 00:51:43 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 1]]
  Rendered books/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 344ms (Views: 335.0ms | ActiveRecord: 2.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-06-28 00:58:00 +0300

SyntaxError (/media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Sloboda_test_task/library/app/helpers/books_helper.rb:2: syntax error, unexpected '<', expecting keyword_end
    <%= image_tag @book.preview.url %>
     ^
/media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Sloboda_test_task/library/app/helpers/books_helper.rb:3: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    <%= image_tag @book.preview.url(:medium) %>
                 ^
/media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Sloboda_test_task/library/app/helpers/books_helper.rb:3: syntax error, unexpected '>'
/media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Sloboda_test_task/library/app/helpers/books_helper.rb:4: unterminated string meets end of file):
  app/helpers/books_helper.rb:2: syntax error, unexpected '<', expecting keyword_end
  app/helpers/books_helper.rb:3: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  app/helpers/books_helper.rb:3: syntax error, unexpected '>'
  app/helpers/books_helper.rb:4: unterminated string meets end of file
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/books_controller.rb:1:in `<top (required)>'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (18.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (74.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (6.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (48.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (83.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-06-28 01:00:03 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.2ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 1]]
  Rendered books/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 483ms (Views: 371.7ms | ActiveRecord: 11.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 01:00:40 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 347ms (Views: 338.9ms | ActiveRecord: 3.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 01:02:34 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.0ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (24.6ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 4.6ms)

ActionView::Template::Error (undefined method `preview' for nil:NilClass):
    19:       <tr>
    20:         <td><%= book.name %></td>
    21:         <td><%= book.author %></td>
    22:         <td><%= image_tag @book.preview.url :medium %></td>
    23:         <td><%= book.description %></td>
    24:         <td><%= book.category %></td>
    25:         <td><%= link_to 'Show', book %></td>
  app/views/books/index.html.erb:22:in `block in _app_views_books_index_html_erb__1178824359114842756_69979763903700'
  app/views/books/index.html.erb:18:in `_app_views_books_index_html_erb__1178824359114842756_69979763903700'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (20.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (32.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (64.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 01:03:32 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 303ms (Views: 293.8ms | ActiveRecord: 3.9ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 01:05:20 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (17.3ms)
  Rendered books/new.html.erb within layouts/application (31.4ms)
Completed 200 OK in 358ms (Views: 347.4ms | ActiveRecord: 0.7ms)


Started POST "/books" for 127.0.0.1 at 2017-06-28 01:08:12 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tZutPG/wpJkxvPiusm+DTXbxwU1zNr7TJS9YOmH/R9NRRHFwA7UTQ3okjC3f7gD5nzTTnhu3Zkmoqn9ucWxYXw==", "book"=>{"name"=>"ÐŸÑƒÑ‚ÑŒ Ð´ÐµÐ¼Ð¾Ð½Ð°", "author"=>"ÐÐ»ÐµÐºÑÐµÐ¹ Ð“Ð»ÑƒÑˆÐ°Ð½Ð¾Ð²ÑÐºÐ¸Ð¹", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f4add133240 @tempfile=#<Tempfile:/tmp/RackMultipart20170628-22430-5h70xt.jpg>, @original_filename="gothicart108.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"gothicart108.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ", "category"=>"Ð¤ÐµÐ½Ñ‚ÐµÐ·Ð¸"}, "commit"=>"Create Book"}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Command :: file -b --mime '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-xmp20y.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-dqx5hu.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-dqx5hu.jpg[0]'
Command :: convert '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-dqx5hu.jpg[0]' -auto-orient -resize "300x300>" '/tmp/2cf405149d9dd478714830512b79a12a20170628-22430-peda6s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-dqx5hu.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-dqx5hu.jpg[0]'
Command :: convert '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-dqx5hu.jpg[0]' -auto-orient -resize "100x100>" '/tmp/2cf405149d9dd478714830512b79a12a20170628-22430-cb3za8'
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/217369f525eb31af1d332dc48dfa676f20170628-22430-11622ar.jpg'
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "category", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "ÐŸÑƒÑ‚ÑŒ Ð´ÐµÐ¼Ð¾Ð½Ð°"], ["author", "ÐÐ»ÐµÐºÑÐµÐ¹ Ð“Ð»ÑƒÑˆÐ°Ð½Ð¾Ð²ÑÐºÐ¸Ð¹"], ["preview_file_name", "gothicart108.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 65398], ["preview_updated_at", "2017-06-27 22:08:12.404941"], ["description", "ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ"], ["category", "Ð¤ÐµÐ½Ñ‚ÐµÐ·Ð¸"], ["created_at", "2017-06-27 22:08:12.851744"], ["updated_at", "2017-06-27 22:08:12.851744"]]
  [1m[36m (232.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/2
Completed 302 Found in 775ms (ActiveRecord: 238.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-06-28 01:08:13 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (3.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered books/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 345ms (Views: 333.7ms | ActiveRecord: 6.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 01:08:20 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.4ms)[0m  [1mSELECT "books".* FROM "books"[0m
  Rendered books/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 379ms (Views: 370.1ms | ActiveRecord: 4.2ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserToBooks (20170627222841)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (2.6ms)[0m  [1mALTER TABLE "books" ADD "user_id" integer[0m
  [1m[35m (40.9ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_books_on_user_id" ON "books" ("user_id")[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170627222841"]]
  [1m[36m (391.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (1.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/books" for 127.0.0.1 at 2017-06-28 01:37:24 +0300
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books"
  Rendered books/index.html.erb within layouts/application (35.4ms)
Completed 200 OK in 473ms (Views: 388.6ms | ActiveRecord: 9.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 01:37:29 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (6.4ms)
  Rendered books/new.html.erb within layouts/application (19.0ms)
Completed 200 OK in 453ms (Views: 444.2ms | ActiveRecord: 0.7ms)


Started POST "/books" for 127.0.0.1 at 2017-06-28 01:38:19 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+H/XZtpaLGMj/eb+qMXNYMe/MAxI1dZYAlYhDKD4oPMcoAsqth+buWhlkn3FRE7ULnoi3yBUDsKP0wZYsGu/fw==", "book"=>{"name"=>"Arjnib", "author"=>"Alex Adminski", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f4add81a630 @tempfile=#<Tempfile:/tmp/RackMultipart20170628-22430-y3c4qx.jpg>, @original_filename="NPp1ON1Cqv8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"NPp1ON1Cqv8.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"IJnljviuwniug fundsj jfnv kjfs fd junva", "category"=>"Paranormal"}, "commit"=>"Create Book"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Command :: file -b --mime '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-erez6.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-motyun.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-motyun.jpg[0]'
Command :: convert '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-motyun.jpg[0]' -auto-orient -resize "300x300>" '/tmp/213801836fd518da2bb77e9f59c7489e20170628-22430-obm3q5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-motyun.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-motyun.jpg[0]'
Command :: convert '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-motyun.jpg[0]' -auto-orient -resize "100x100>" '/tmp/213801836fd518da2bb77e9f59c7489e20170628-22430-lfzb55'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/c9608e68508d8d327c710738c989d4ad20170628-22430-fehuc4.jpg'
  [1m[35mSQL (29.6ms)[0m  INSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Arjnib"], ["author", "Alex Adminski"], ["preview_file_name", "NPp1ON1Cqv8.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 90090], ["preview_updated_at", "2017-06-27 22:38:19.931121"], ["description", "IJnljviuwniug fundsj jfnv kjfs fd junva"], ["category", "Paranormal"], ["user_id", 1], ["created_at", "2017-06-27 22:38:20.542220"], ["updated_at", "2017-06-27 22:38:20.542220"]]
  [1m[36m (239.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/3
Completed 302 Found in 1082ms (ActiveRecord: 270.3ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-28 01:38:20 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (5.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered books/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 401ms (Views: 386.5ms | ActiveRecord: 6.3ms)
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35mBook Load (2.3ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1
  [1m[36mUser Load (3.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCategories (20170627225536)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (34.1ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170627225536"]]
  [1m[36m (185.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.8ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (1.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/books/3" for 127.0.0.1 at 2017-06-28 02:19:48 +0300
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.9ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  Rendered books/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 518ms (Views: 386.9ms | ActiveRecord: 7.1ms)
  [1m[36m (138.0ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id" integer) [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (181.1ms)[0m  [1mCREATE  INDEX "index_books_on_user_id" ON "books" ("user_id")[0m
  [1m[35m (179.1ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (207.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (203.3ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (197.6ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (183.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (221.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.9ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (193.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170627225536')
  [1m[36m (199.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170626204921')[0m
  [1m[35m (241.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170627202819')
  [1m[36m (177.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170627222841')[0m
  [1m[35m (158.9ms)[0m  CREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id" integer) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (178.6ms)[0m  CREATE  INDEX "index_books_on_user_id" ON "books" ("user_id")
  [1m[36m (186.1ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (185.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (191.0ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (199.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (241.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (236.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (4.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (207.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170627225536')[0m
  [1m[35m (377.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170626204921')
  [1m[36m (207.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170627202819')[0m
  [1m[35m (189.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170627222841')
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð¢Ñ€Ð¸Ð»Ð»ÐµÑ€"], ["created_at", "2017-06-27 23:20:37.580653"], ["updated_at", "2017-06-27 23:20:37.580653"]]
  [1m[35m (187.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Ð¤ÑÐ½Ñ‚ÐµÐ·Ð¸"], ["created_at", "2017-06-27 23:20:37.776661"], ["updated_at", "2017-06-27 23:20:37.776661"]]
  [1m[36m (194.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð¤Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸ÐºÐ°"], ["created_at", "2017-06-27 23:20:37.977556"], ["updated_at", "2017-06-27 23:20:37.977556"]]
  [1m[35m (213.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ÐšÐ¾Ð¼ÐµÐ´Ð¸Ñ"], ["created_at", "2017-06-27 23:20:38.200143"], ["updated_at", "2017-06-27 23:20:38.200143"]]
  [1m[36m (222.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð”ÐµÑ‚ÐµÐºÑ‚Ð¸Ð²"], ["created_at", "2017-06-27 23:20:38.432629"], ["updated_at", "2017-06-27 23:20:38.432629"]]
  [1m[35m (179.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ÐŸÑ€Ð¸ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ"], ["created_at", "2017-06-27 23:20:38.619987"], ["updated_at", "2017-06-27 23:20:38.619987"]]
  [1m[36m (191.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ÐŸÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ"], ["created_at", "2017-06-27 23:20:38.819772"], ["updated_at", "2017-06-27 23:20:38.819772"]]
  [1m[35m (192.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ÐšÐ¾Ð¼ÐµÐ´Ð¸Ñ"], ["created_at", "2017-06-27 23:20:39.019288"], ["updated_at", "2017-06-27 23:20:39.019288"]]
  [1m[36m (182.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ"], ["created_at", "2017-06-27 23:20:39.208709"], ["updated_at", "2017-06-27 23:20:39.208709"]]
  [1m[35m (176.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ"], ["created_at", "2017-06-27 23:20:39.391132"], ["updated_at", "2017-06-27 23:20:39.391132"]]
  [1m[36m (175.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð¤Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ñ"], ["created_at", "2017-06-27 23:20:39.575390"], ["updated_at", "2017-06-27 23:20:39.575390"]]
  [1m[35m (214.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ"], ["created_at", "2017-06-27 23:20:39.796521"], ["updated_at", "2017-06-27 23:20:39.796521"]]
  [1m[36m (205.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (2.5ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð’Ð¾ÐµÐ½Ð½Ð¾Ðµ"], ["created_at", "2017-06-27 23:20:40.012347"], ["updated_at", "2017-06-27 23:20:40.012347"]]
  [1m[35m (215.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (14.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Ð”Ñ€Ð°Ð¼Ð°"], ["created_at", "2017-06-27 23:20:40.238760"], ["updated_at", "2017-06-27 23:20:40.238760"]]
  [1m[36m (182.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð Ð¾Ð¼Ð°Ð½Ñ‚Ð¸ÐºÐ°"], ["created_at", "2017-06-27 23:20:40.441487"], ["updated_at", "2017-06-27 23:20:40.441487"]]
  [1m[35m (347.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ"], ["created_at", "2017-06-27 23:20:40.799999"], ["updated_at", "2017-06-27 23:20:40.799999"]]
  [1m[36m (187.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Ð¢Ñ€Ð°Ð³ÐµÐ´Ð¸Ñ"], ["created_at", "2017-06-27 23:20:40.994634"], ["updated_at", "2017-06-27 23:20:40.994634"]]
  [1m[35m (193.6ms)[0m  commit transaction
  [1m[36mCategory Load (7.7ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to BooksCategories (20170627233055)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (15.8ms)[0m  [1mCREATE TABLE "books_categories" ("book_id" integer, "category_id" integer) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_books_categories_on_book_id" ON "books_categories" ("book_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_book_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_books_categories_on_category_id" ON "books_categories" ("category_id")[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170627233055"]]
  [1m[36m (227.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_category_id' AND type='index'

  [1m[36m (1.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
[0m
  [1m[35m (1.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (1.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mBook Load (1.3ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35mCategory Load (1.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" DESC LIMIT 1
  [1m[36mCategory Load (5.5ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" DESC LIMIT 1[0m
  [1m[35mBook Load (1.1ms)[0m  SELECT "books".* FROM "books" INNER JOIN "books_categories" ON "books"."id" = "books_categories"."book_id" WHERE "books_categories"."category_id" = ?  [["category_id", 17]]
  [1m[36mCategory Load (3.0ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" DESC LIMIT 1[0m
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "books" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2017-06-27 23:34:22.914004"], ["updated_at", "2017-06-27 23:34:22.914004"]]
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 17], ["book_id", 1]]
  [1m[36m (193.9ms)[0m  [1mcommit transaction[0m
  [1m[35mBook Load (3.0ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to RemoveCategoryFromBooks (20170627234308)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TEMPORARY TABLE "abooks" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "category" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id" integer) [0m
  [1m[35m (0.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "tindex_abooks_on_user_id" ON "abooks" ("user_id")
  [1m[36m (0.3ms)[0m  [1mSELECT * FROM "books"[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "abooks" ("id","name","author","preview_file_name","preview_content_type","preview_file_size","preview_updated_at","description","category","created_at","updated_at","user_id") VALUES (1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2017-06-27 23:34:22.914004', '2017-06-27 23:34:22.914004', NULL)
  [1m[36m (8.0ms)[0m  [1mDROP TABLE "books"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "author" varchar, "preview_file_name" varchar, "preview_content_type" varchar, "preview_file_size" integer, "preview_updated_at" datetime, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id" integer) 
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_abooks_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_abooks_on_user_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_books_on_user_id" ON "books" ("user_id")
  [1m[36m (0.2ms)[0m  [1mSELECT * FROM "abooks"[0m
  [1m[35m (0.2ms)[0m  INSERT INTO "books" ("id","name","author","preview_file_name","preview_content_type","preview_file_size","preview_updated_at","description","created_at","updated_at","user_id") VALUES (1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2017-06-27 23:34:22.914004', '2017-06-27 23:34:22.914004', NULL)
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "abooks"[0m
  [1m[35mSQL (12.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170627234308"]]
  [1m[36m (227.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.9ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_category_id' AND type='index'

  [1m[36m (1.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (1.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/" for 127.0.0.1 at 2017-06-28 02:44:17 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 401 Unauthorized in 30ms (ActiveRecord: 3.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-28 02:44:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (22.1ms)
Completed 200 OK in 413ms (Views: 389.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-28 03:11:05 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 111ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-28 03:11:05 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (128.3ms)
Completed 200 OK in 1768ms (Views: 1712.0ms | ActiveRecord: 2.5ms)


Started GET "/assets/scaffolds.self-5843f78b938156892f6eca57a00ae737cf33270727c6ab257d959b444a07f068.css?body=1" for 127.0.0.1 at 2017-06-28 03:11:07 +0300


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-28 03:11:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sck413HVPjhHGP9bl+u5WcLWwF35Dw8VDOrV21EOCO1VFuSbHZCJ4gyAi9j6ajrtKxPSjpGO14+Bb/KPQZ0XYQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test@test.test"]]
Completed 401 Unauthorized in 102ms (ActiveRecord: 1.0ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sck413HVPjhHGP9bl+u5WcLWwF35Dw8VDOrV21EOCO1VFuSbHZCJ4gyAi9j6ajrtKxPSjpGO14+Bb/KPQZ0XYQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (24.2ms)
Completed 200 OK in 746ms (Views: 443.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-28 03:11:27 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 388ms (Views: 382.6ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-06-28 03:11:47 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4UJNDzwkvp50WDtnlsiZtG5SC7JywvmJEJbrV0zythgFnZFDUGEJRD/AT+T7SRoAh5cZYRpDIROdE8wDXGGplA==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.test' LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.test"], ["encrypted_password", "$2a$11$3mlV799SOvs.5QtMYqIqEekjGhf96cbmPfmKwcD08TbREfkV14La2"], ["created_at", "2017-06-28 00:11:47.412763"], ["updated_at", "2017-06-28 00:11:47.412763"]]
  [1m[35m (184.4ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (7.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-28 00:11:47.613038"], ["current_sign_in_at", "2017-06-28 00:11:47.613038"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-28 00:11:47.621668"], ["id", 1]]
  [1m[36m (161.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 757ms (ActiveRecord: 361.3ms)


Started GET "/" for 127.0.0.1 at 2017-06-28 03:11:47 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (4.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books"[0m
  Rendered books/index.html.erb within layouts/application (94.4ms)
Completed 500 Internal Server Error in 207ms (ActiveRecord: 15.7ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f93d23afdf0>
Did you mean?  category_ids):
    21:         <td><%= book.author %></td>
    22:         <td><%= image_tag book.preview.url :medium %></td>
    23:         <td><%= book.description %></td>
    24:         <td><%= book.category %></td>
    25:         <td><%= link_to 'Show', book %></td>
    26:         <td><%= link_to 'Edit', edit_book_path(book) %></td>
    27:         <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  app/views/books/index.html.erb:24:in `block in _app_views_books_index_html_erb___2312936221980772514_70136431623160'
  app/views/books/index.html.erb:18:in `_app_views_books_index_html_erb___2312936221980772514_70136431623160'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (26.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (83.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (4.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (44.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (118.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (2.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_category_id' AND type='index'

  [1m[36m (1.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (1.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/" for 127.0.0.1 at 2017-06-28 03:12:35 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (2.8ms)[0m  [1mSELECT "books".* FROM "books"[0m
  Rendered books/index.html.erb within layouts/application (64.9ms)
Completed 500 Internal Server Error in 195ms (ActiveRecord: 10.9ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x00000002989d90>
Did you mean?  category_ids):
    21:         <td><%= book.author %></td>
    22:         <td><%= image_tag book.preview.url :medium %></td>
    23:         <td><%= book.description %></td>
    24:         <td><%= book.category %></td>
    25:         <td><%= link_to 'Show', book %></td>
    26:         <td><%= link_to 'Edit', edit_book_path(book) %></td>
    27:         <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  app/views/books/index.html.erb:24:in `block in _app_views_books_index_html_erb___2312936221980772514_70136431623160'
  app/views/books/index.html.erb:18:in `_app_views_books_index_html_erb___2312936221980772514_70136431623160'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (22.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (68.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (42.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (76.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-28 03:13:57 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (1.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 1]]
  Rendered books/index.html.erb within layouts/application (194.5ms)
Completed 500 Internal Server Error in 246ms (ActiveRecord: 16.6ms)

ActionView::Template::Error (undefined method `all' for #<Enumerator:0x00000002d3ae08>
Did you mean?  all?):
    21:         <td><%= book.author %></td>
    22:         <td><%= image_tag book.preview.url :medium %></td>
    23:         <td><%= book.description %></td>
    24:         <td><%= book.categories.each.all %></td>
    25:         <td><%= link_to 'Show', book %></td>
    26:         <td><%= link_to 'Edit', edit_book_path(book) %></td>
    27:         <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  app/views/books/index.html.erb:24:in `block in _app_views_books_index_html_erb___2312936221980772514_70136419407180'
  app/views/books/index.html.erb:18:in `_app_views_books_index_html_erb___2312936221980772514_70136419407180'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (21.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (33.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (71.2ms)


Started GET "/" for 127.0.0.1 at 2017-06-28 03:51:04 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.1ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (1.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/index.html.erb within layouts/application (15.3ms)
Completed 200 OK in 348ms (Views: 338.6ms | ActiveRecord: 4.6ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 03:51:05 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (5.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (20.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (110.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (39.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (2.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (81.5ms)


Started DELETE "/books/1" for 127.0.0.1 at 2017-06-28 03:51:24 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"2uhwq8IzNEF+Yiw5IccJ0HscvdzbLSEZBtq5s+/HIeI+N6znrnaDmzX6WLpMRopkktmvD7Os+YOLX57n/1Q+bg==", "id"=>"1"}
  [1m[35mUser Load (3.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (4.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (24.3ms)[0m  [1mDELETE FROM "books_categories" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 1]]
  [1m[35mSQL (3.0ms)[0m  DELETE FROM "books" WHERE "books"."id" = ?  [["id", 1]]
  [1m[36m (291.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 341ms (ActiveRecord: 326.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 03:51:25 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books"[0m
  Rendered books/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 348ms (Views: 341.3ms | ActiveRecord: 3.1ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:51:28 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered books/_form.html.erb (51.5ms)
  Rendered books/new.html.erb within layouts/application (64.9ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f93d214cbd0>
Did you mean?  category_ids):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :category %><br>
    32:     <%= f.text_field :category %>
    33:   </div>
    34:   <div class="actions">
    35:     <%= f.submit %>
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136430670240'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136430670240'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136430728640'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (24.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (29.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (61.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:51:29 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (47.2ms)
  Rendered books/new.html.erb within layouts/application (60.2ms)
Completed 500 Internal Server Error in 100ms (ActiveRecord: 2.6ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f93d21f53c0>
Did you mean?  category_ids):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :category %><br>
    32:     <%= f.text_field :category %>
    33:   </div>
    34:   <div class="actions">
    35:     <%= f.submit %>
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136431067980'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136431067980'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136431090000'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (26.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (35.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (66.2ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:55:12 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (3.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered books/_form.html.erb (39.3ms)
  Rendered books/new.html.erb within layouts/application (49.2ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 3.5ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f93d20ffc18>
Did you mean?  category_ids):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :category %><br>
    32:     <%= f.text_field :category %>
    33:     <%= f.collection_select :tag_ids, @categories, :id, :name, {}, 
    34:     {:multiple => true} %>
    35:   </div>
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136430579060'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136430579060'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136431090000'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (24.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (68.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (3.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (33.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (73.5ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:55:37 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (73.2ms)
  Rendered books/new.html.erb within layouts/application (93.0ms)
Completed 500 Internal Server Error in 160ms (ActiveRecord: 2.2ms)

ActionView::Template::Error (undefined method `tag_ids' for #<Book:0x007f93d20eed50>):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :categories %><br>
    32:     <%= f.collection_select :tag_ids, @categories, :id, :name, {}, 
    33:     {:multiple => true} %>
    34:   </div>
    35:   <div class="actions">
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136430518880'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136430518880'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136431090000'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (25.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (30.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (68.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:55:55 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered books/_form.html.erb (22.3ms)
  Rendered books/new.html.erb within layouts/application (40.3ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined method `map' for nil:NilClass
Did you mean?  tap):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :categories %><br>
    32:     <%= f.collection_select :category_ids, @categories, :id, :name, {}, 
    33:     {:multiple => true} %>
    34:   </div>
    35:   <div class="actions">
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136429911140'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136429911140'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136431090000'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (24.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (29.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (62.4ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:56:12 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (53.1ms)
  Rendered books/new.html.erb within layouts/application (67.1ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 2.5ms)

ActionView::Template::Error (undefined method `categories_ids' for #<Book:0x007f93d202c278>
Did you mean?  categories
               categories=
               category_ids
               category_ids=):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :categories %><br>
    32:     <%= f.collection_select :categories_ids, @categories, :id, :name, {}, 
    33:     {:multiple => true} %>
    34:   </div>
    35:   <div class="actions">
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136430133880'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136430133880'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136431090000'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (24.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (17.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (77.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (47.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (97.7ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:56:53 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered books/_form.html.erb (53.8ms)
  Rendered books/new.html.erb within layouts/application (64.0ms)
Completed 500 Internal Server Error in 214ms (ActiveRecord: 11.7ms)

ActionView::Template::Error (undefined method `categories_ids' for #<Book:0x007f93d17c3b18>
Did you mean?  categories
               categories=
               category_ids
               category_ids=):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :categories %><br>
    32:     <%= f.collection_select :categories_ids, @categories, :id, :name, {}, 
    33:     {:multiple => true} %>
    34:   </div>
    35:   <div class="actions">
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136430133880'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136430133880'
  app/views/books/new.html.erb:3:in `_app_views_books_new_html_erb__1331387021726438599_70136431090000'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (35.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (18.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (88.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (37.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (77.8ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-28 03:57:32 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (4.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories"
  Rendered books/_form.html.erb (77.9ms)
  Rendered books/new.html.erb within layouts/application (93.4ms)
Completed 200 OK in 473ms (Views: 459.6ms | ActiveRecord: 8.0ms)


Started POST "/books" for 127.0.0.1 at 2017-06-28 03:57:41 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jo98MxSGVNeL1R4dAKnZzgKX8WcpbNBRSyIIqRqHDI9qUKB/eMPjDcBNap5tKFp661LjtEHtCMvGpy/9ChQTAw==", "book"=>{"name"=>"", "author"=>"", "description"=>"", "category_ids"=>["", "2", "3", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_ids
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "books" ("name", "author", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", ""], ["author", ""], ["description", ""], ["user_id", 1], ["created_at", "2017-06-28 00:57:41.961989"], ["updated_at", "2017-06-28 00:57:41.961989"]]
  [1m[35m (220.4ms)[0m  commit transaction
Redirected to http://localhost:3000/books/2
Completed 302 Found in 285ms (ActiveRecord: 224.8ms)


Started GET "/books/2" for 127.0.0.1 at 2017-06-28 03:57:42 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (4.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 2]]
  Rendered books/show.html.erb within layouts/application (33.5ms)
Completed 500 Internal Server Error in 83ms (ActiveRecord: 5.9ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f93d19cd030>
Did you mean?  category_ids):
    22: 
    23: <p>
    24:   <strong>Category:</strong>
    25:   <%= @book.category %>
    26: </p>
    27: 
    28: <%= link_to 'Edit', edit_book_path(@book) %> |
  app/views/books/show.html.erb:25:in `_app_views_books_show_html_erb__235736694671180994_70136429836900'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (20.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (34.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (64.4ms)


Started GET "/books/2" for 127.0.0.1 at 2017-06-28 03:59:42 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (3.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.1ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 2]]
  Rendered books/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 326ms (Views: 313.2ms | ActiveRecord: 6.6ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 03:59:42 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (8.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (2.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (76.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (37.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (77.5ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 03:59:42 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (8.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (4.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (85.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (4.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (3.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (42.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (91.3ms)
  [1m[36mBook Load (1.2ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35mBook Load (3.7ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 2]]


Started POST "/books" for 127.0.0.1 at 2017-06-28 04:01:55 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jo98MxSGVNeL1R4dAKnZzgKX8WcpbNBRSyIIqRqHDI9qUKB/eMPjDcBNap5tKFp661LjtEHtCMvGpy/9ChQTAw==", "book"=>{"name"=>"afa", "author"=>"dgfskgj", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f93d390a538 @tempfile=#<Tempfile:/tmp/RackMultipart20170628-28900-9japk5.jpg>, @original_filename="01.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"01.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"sjgskjg", "category_ids"=>["", "2", "3", "4"]}, "commit"=>"Create Book"}
  [1m[35mUser Load (3.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Unpermitted parameter: category_ids
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1sgxfrz.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1c50yva.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1c50yva.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1c50yva.jpg[0]' -auto-orient -resize "300x300>" '/tmp/ae9a92b5dda21eb5d51bd01e654fab1920170628-28900-19hm8f5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1c50yva.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1c50yva.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1c50yva.jpg[0]' -auto-orient -resize "100x100>" '/tmp/ae9a92b5dda21eb5d51bd01e654fab1920170628-28900-16c1hzl'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1q8y69y.jpg'
  [1m[35mSQL (30.2ms)[0m  INSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "afa"], ["author", "dgfskgj"], ["preview_file_name", "01.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 262800], ["preview_updated_at", "2017-06-28 01:01:55.513107"], ["description", "sjgskjg"], ["user_id", 1], ["created_at", "2017-06-28 01:01:56.990499"], ["updated_at", "2017-06-28 01:01:56.990499"]]
  [1m[36m (239.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/3
Completed 302 Found in 1944ms (ActiveRecord: 281.0ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-28 04:01:57 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (4.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (73.0ms)
Completed 200 OK in 414ms (Views: 392.7ms | ActiveRecord: 13.8ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-28 04:02:01 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (4.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.9ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/_form.html.erb (33.6ms)
  Rendered books/edit.html.erb within layouts/application (48.5ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 6.3ms)

ActionView::Template::Error (undefined method `map' for nil:NilClass
Did you mean?  tap):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :categories %><br>
    32:     <%= f.collection_select :category_ids, @categories, :id, :name, {}, 
    33:     {:multiple => true} %>
    34:   </div>
    35:   <div class="actions">
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136111549460'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136111549460'
  app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb___1449994591045314656_36875180'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (22.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (31.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (63.0ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-28 04:02:02 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (5.2ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/_form.html.erb (36.6ms)
  Rendered books/edit.html.erb within layouts/application (48.2ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 8.9ms)

ActionView::Template::Error (undefined method `map' for nil:NilClass
Did you mean?  tap):
    29:   </div>
    30:   <div class="field">
    31:     <%= f.label :categories %><br>
    32:     <%= f.collection_select :category_ids, @categories, :id, :name, {}, 
    33:     {:multiple => true} %>
    34:   </div>
    35:   <div class="actions">
  app/views/books/_form.html.erb:32:in `block in _app_views_books__form_html_erb__1506922639465776279_70136428177880'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1506922639465776279_70136428177880'
  app/views/books/edit.html.erb:3:in `_app_views_books_edit_html_erb___1449994591045314656_70136113718440'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (25.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (69.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (39.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (72.2ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-28 04:02:50 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.8ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (5.1ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/_form.html.erb (74.4ms)
  Rendered books/edit.html.erb within layouts/application (88.8ms)
Completed 200 OK in 543ms (Views: 412.0ms | ActiveRecord: 22.1ms)


Started PATCH "/books/3" for 127.0.0.1 at 2017-06-28 04:02:56 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4uOs3eBKh2fFcaX7JEHrxTLuJ/uOlGUwT8El8IojglgGPHCRjA8wvY7p0XhJwGhx2ys1KOYVvarCRAKkmrCd1A==", "book"=>{"name"=>"afa", "author"=>"dgfskgj", "description"=>"sjgskjg", "category_ids"=>["", "1", "2", "4"]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
Unpermitted parameter: category_ids
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/3
Completed 302 Found in 22ms (ActiveRecord: 4.2ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-28 04:02:56 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (1.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (9.5ms)
Completed 200 OK in 325ms (Views: 315.5ms | ActiveRecord: 4.7ms)


Started POST "/books" for 127.0.0.1 at 2017-06-28 04:04:05 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jo98MxSGVNeL1R4dAKnZzgKX8WcpbNBRSyIIqRqHDI9qUKB/eMPjDcBNap5tKFp661LjtEHtCMvGpy/9ChQTAw==", "book"=>{"name"=>"afa1111", "author"=>"dgfskgj", "preview"=>#<ActionDispatch::Http::UploadedFile:0x00000003d29008 @tempfile=#<Tempfile:/tmp/RackMultipart20170628-28900-178xaep.jpg>, @original_filename="01.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"01.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"sjgskjg", "category_ids"=>["", "6"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (3.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_ids
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1op2obr.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-196dinf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-196dinf.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-196dinf.jpg[0]' -auto-orient -resize "300x300>" '/tmp/8dec4f868f409dcaaa625d66fc27efd920170628-28900-19pmaiq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-196dinf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-196dinf.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-196dinf.jpg[0]' -auto-orient -resize "100x100>" '/tmp/8dec4f868f409dcaaa625d66fc27efd920170628-28900-12vqs6i'
  [1m[35m (0.2ms)[0m  begin transaction
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1jnkdh6.jpg'
  [1m[36mSQL (30.7ms)[0m  [1mINSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "afa1111"], ["author", "dgfskgj"], ["preview_file_name", "01.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 262800], ["preview_updated_at", "2017-06-28 01:04:05.632878"], ["description", "sjgskjg"], ["user_id", 1], ["created_at", "2017-06-28 01:04:06.551324"], ["updated_at", "2017-06-28 01:04:06.551324"]]
  [1m[35m (194.2ms)[0m  commit transaction
Redirected to http://localhost:3000/books/4
Completed 302 Found in 1290ms (ActiveRecord: 228.3ms)


Started GET "/books/4" for 127.0.0.1 at 2017-06-28 04:04:06 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  Rendered books/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 320ms (Views: 308.3ms | ActiveRecord: 3.9ms)
  [1m[35mBook Load (1.6ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1
  [1m[36mCategory Load (1.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mBook Load (3.4ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1
  [1m[36mCategory Load (8.3ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]


Started POST "/books" for 127.0.0.1 at 2017-06-28 04:05:38 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jo98MxSGVNeL1R4dAKnZzgKX8WcpbNBRSyIIqRqHDI9qUKB/eMPjDcBNap5tKFp661LjtEHtCMvGpy/9ChQTAw==", "book"=>{"name"=>"afa1111", "author"=>"dgfskgj", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f93d3e35328 @tempfile=#<Tempfile:/tmp/RackMultipart20170628-28900-16wv7u2.jpg>, @original_filename="01.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"01.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"sjgskjg", "category_ids"=>["", "2", "3"]}, "commit"=>"Create Book"}
  [1m[35mUser Load (2.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Unpermitted parameter: category_ids
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1u98y1o.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-141chkc.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-141chkc.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-141chkc.jpg[0]' -auto-orient -resize "300x300>" '/tmp/a17d962fe01a0f9ad6f7b14d69a9da4e20170628-28900-boe64a'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-141chkc.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-141chkc.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-141chkc.jpg[0]' -auto-orient -resize "100x100>" '/tmp/a17d962fe01a0f9ad6f7b14d69a9da4e20170628-28900-1dbdy03'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1jlhelg.jpg'
  [1m[35mSQL (32.8ms)[0m  INSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "afa1111"], ["author", "dgfskgj"], ["preview_file_name", "01.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 262800], ["preview_updated_at", "2017-06-28 01:05:38.300462"], ["description", "sjgskjg"], ["user_id", 1], ["created_at", "2017-06-28 01:05:39.231366"], ["updated_at", "2017-06-28 01:05:39.231366"]]
  [1m[36m (213.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/5
Completed 302 Found in 1283ms (ActiveRecord: 249.2ms)


Started GET "/books/5" for 127.0.0.1 at 2017-06-28 04:05:39 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (3.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  Rendered books/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 325ms (Views: 314.6ms | ActiveRecord: 5.0ms)
  [1m[35mBook Load (1.2ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1
  [1m[36mBook Load (9.1ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35m (1.5ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mBook Load (3.3ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35m (4.4ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mBook Load (2.1ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" IN (1, 2, 3)
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)[0m  [["book_id", 5], ["category_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)  [["book_id", 5], ["category_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)[0m  [["book_id", 5], ["category_id", 3]]
  [1m[35m (232.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.5ms)[0m  commit transaction


Started GET "/books/5" for 127.0.0.1 at 2017-06-28 04:07:37 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.6ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  Rendered books/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 343ms (Views: 332.3ms | ActiveRecord: 5.7ms)


Started POST "/books" for 127.0.0.1 at 2017-06-28 04:08:48 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jo98MxSGVNeL1R4dAKnZzgKX8WcpbNBRSyIIqRqHDI9qUKB/eMPjDcBNap5tKFp661LjtEHtCMvGpy/9ChQTAw==", "book"=>{"name"=>"afa1111", "author"=>"dgfskgj", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f93d2076df0 @tempfile=#<Tempfile:/tmp/RackMultipart20170628-28900-149lftk.jpg>, @original_filename="01.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"01.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"sjgskjg", "category_ids"=>["", "2", "3"]}, "commit"=>"Create Book"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1iqwcyl.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1dswzuj.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1dswzuj.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1dswzuj.jpg[0]' -auto-orient -resize "300x300>" '/tmp/9fee3a39e4ef4d5203f0ea9aa13f38fe20170628-28900-1vidnio'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1dswzuj.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1dswzuj.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1dswzuj.jpg[0]' -auto-orient -resize "100x100>" '/tmp/9fee3a39e4ef4d5203f0ea9aa13f38fe20170628-28900-6ys4z2'
  [1m[36mCategory Load (1.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (2, 3)[0m
  [1m[35m (0.3ms)[0m  begin transaction
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170628-28900-1cbsxu.jpg'
  [1m[36mSQL (7.2ms)[0m  [1mINSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "afa1111"], ["author", "dgfskgj"], ["preview_file_name", "01.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 262800], ["preview_updated_at", "2017-06-28 01:08:48.815739"], ["description", "sjgskjg"], ["user_id", 1], ["created_at", "2017-06-28 01:08:49.657685"], ["updated_at", "2017-06-28 01:08:49.657685"]]
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 2], ["book_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 3], ["book_id", 6]]
  [1m[35m (226.4ms)[0m  commit transaction
Redirected to http://localhost:3000/books/6
Completed 302 Found in 1307ms (ActiveRecord: 250.9ms)


Started GET "/books/6" for 127.0.0.1 at 2017-06-28 04:08:50 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.9ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/show.html.erb within layouts/application (9.7ms)
Completed 200 OK in 372ms (Views: 356.3ms | ActiveRecord: 4.3ms)


Started GET "/books/6" for 127.0.0.1 at 2017-06-28 04:10:04 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (1.6ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 352ms (Views: 338.1ms | ActiveRecord: 4.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 04:10:18 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (5.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 2]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (5.4ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (1.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (47.4ms)
Completed 200 OK in 389ms (Views: 368.5ms | ActiveRecord: 16.5ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 04:10:18 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (4.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (3.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (84.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (3.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (40.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (90.3ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-28 04:12:00 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (3.6ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 316ms (Views: 304.2ms | ActiveRecord: 7.3ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-28 04:12:03 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (4.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.4ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (1.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (11.8ms)
Completed 200 OK in 390ms (Views: 377.3ms | ActiveRecord: 7.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 04:12:05 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.4ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (6.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 2]]
  [1m[36mCategory Load (2.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (2.3ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (3.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (12.6ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (67.0ms)
Completed 200 OK in 368ms (Views: 334.2ms | ActiveRecord: 29.8ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 04:12:06 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (16.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (4.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (81.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (3.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (39.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (81.2ms)


Started GET "/books/6" for 127.0.0.1 at 2017-06-28 04:12:09 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.9ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 387ms (Views: 378.0ms | ActiveRecord: 2.5ms)


Started GET "/books/6" for 127.0.0.1 at 2017-06-28 04:12:19 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.3ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCategory Load (2.4ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 330ms (Views: 318.5ms | ActiveRecord: 5.4ms)


Started GET "/books/6" for 127.0.0.1 at 2017-06-28 04:12:49 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (3.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 329ms (Views: 315.9ms | ActiveRecord: 5.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 04:18:58 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 2]]
  [1m[36mCategory Load (1.3ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (43.5ms)
Completed 200 OK in 387ms (Views: 374.9ms | ActiveRecord: 8.0ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 04:18:58 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (5.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (7.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (108.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (31.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (62.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 04:19:10 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (1.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 2]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (3.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (5.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (48.7ms)
Completed 200 OK in 440ms (Views: 419.6ms | ActiveRecord: 14.4ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 04:19:11 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (4.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (2.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (67.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (40.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (81.1ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 04:19:12 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (7.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (5.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (77.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (4.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (66.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (108.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 04:25:35 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (2.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 2]]
  [1m[36mCategory Load (3.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (1.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (3.3ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (3.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (51.2ms)
Completed 200 OK in 401ms (Views: 377.6ms | ActiveRecord: 18.4ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 04:25:36 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (7.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (6.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (95.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (60.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (117.5ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 05:09:07 +0300

SyntaxError (/media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/app/models/user.rb:6: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  has_many :books through: :drafts
                         ^):
  app/models/user.rb:6: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  config/routes.rb:5:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (14.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (61.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (48.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (95.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 05:12:30 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:392:in `check_pending!'
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:373:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:88:in `__run_callbacks__'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:778:in `_run_call_callbacks'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:27:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/reloader.rb:73:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/remote_ip.rb:78:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (6.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (39.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (33.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (70.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 05:12:45 +0300
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:392:in `check_pending!'
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:373:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:88:in `__run_callbacks__'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:778:in `_run_call_callbacks'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:27:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/reloader.rb:73:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/remote_ip.rb:78:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (7.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (38.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (31.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (66.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateDrafts (20170628015739)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (23.0ms)[0m  [1mCREATE TABLE "drafts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170628015739"]]
  [1m[36m (201.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_category_id' AND type='index'

  [1m[36m (2.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.9ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/books" for 127.0.0.1 at 2017-06-28 05:17:23 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.7ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 2]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (126.7ms)
Completed 200 OK in 661ms (Views: 566.4ms | ActiveRecord: 20.9ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2017-06-28 05:17:24 +0300

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (4.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (74.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (4.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (42.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (87.8ms)


Started DELETE "/books/2" for 127.0.0.1 at 2017-06-28 05:17:38 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"HuUodn72yDs8h67KleiBYIj8T8XKCD3HxDOu56KuQh76OvQ6ErN/4Xcf2kn4aQLUYTldFqKJ5V1Jtomzsj1dkg==", "id"=>"2"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.6ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "books_categories" WHERE "books_categories"."book_id" = ?  [["book_id", 2]]
  [1m[36mSQL (2.6ms)[0m  [1mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 2]]
  [1m[35m (216.1ms)[0m  commit transaction
Redirected to http://localhost:3000/books
Completed 302 Found in 238ms (ActiveRecord: 223.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 05:17:39 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (2.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (4.5ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (4.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (36.1ms)
Completed 200 OK in 336ms (Views: 314.9ms | ActiveRecord: 15.3ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-28 05:17:46 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (5.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.7ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (3.5ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (1.1ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/_form.html.erb (23.8ms)
  Rendered books/edit.html.erb within layouts/application (58.2ms)
Completed 200 OK in 416ms (Views: 399.6ms | ActiveRecord: 10.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-28 05:19:07 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (4.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (3.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (3.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (5.3ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (1.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (35.9ms)
Completed 200 OK in 370ms (Views: 346.1ms | ActiveRecord: 20.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 00:17:49 +0300
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (2.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (4.3ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (297.6ms)
Completed 200 OK in 2068ms (Views: 1740.0ms | ActiveRecord: 30.9ms)


Started GET "/assets/books.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2017-06-29 00:17:51 +0300


Started GET "/assets/scaffolds.self-5843f78b938156892f6eca57a00ae737cf33270727c6ab257d959b444a07f068.css?body=1" for 127.0.0.1 at 2017-06-29 00:17:51 +0300


Started GET "/assets/jquery.self-c03f4eaf1119e6e68820418ad53c328101312ebc906325c60ad7c32edaa360b7.js?body=1" for 127.0.0.1 at 2017-06-29 00:17:51 +0300


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2017-06-29 00:17:51 +0300


Started GET "/assets/jquery_ujs.self-d456baa54c1fa6be2ec3711f0a72ddf7a5b2f34a6b4f515f33767d6207b7d4b3.js?body=1" for 127.0.0.1 at 2017-06-29 00:17:51 +0300


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2017-06-29 00:17:52 +0300


Started GET "/assets/books.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2017-06-29 00:17:52 +0300


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2017-06-29 00:17:52 +0300


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-29 00:18:21 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.9ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (10.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/_form.html.erb (275.5ms)
  Rendered books/edit.html.erb within layouts/application (380.4ms)
Completed 200 OK in 796ms (Views: 761.1ms | ActiveRecord: 12.7ms)


Started PATCH "/books/3" for 127.0.0.1 at 2017-06-29 00:18:31 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dfywMTjTpJCboqpIF7knW82/aLM/38zsf8ZQSFn2s3WRI2x9VJYTStA63st6OKTvJHp6YFdeFHbyQ3ccSWWs+Q==", "book"=>{"name"=>"afa", "author"=>"dgfskgj", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f1535fab940 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-7900-1hrdrgu.jpg>, @original_filename="0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"0.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"sjgskjg", "category_ids"=>[""]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.0ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-untkvd.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-1eeitri.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-1eeitri.jpg[0]'
Command :: convert '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-1eeitri.jpg[0]' -auto-orient -resize "300x300>" '/tmp/d44631a9cd694e197d3f9faf1a4f524c20170629-7900-azpm3x'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-1eeitri.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-1eeitri.jpg[0]'
Command :: convert '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-1eeitri.jpg[0]' -auto-orient -resize "100x100>" '/tmp/d44631a9cd694e197d3f9faf1a4f524c20170629-7900-8a6h4m'
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
Command :: file -b --mime '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-7900-q8foby.jpg'
  [1m[36mSQL (17.4ms)[0m  [1mUPDATE "books" SET "preview_file_name" = ?, "preview_file_size" = ?, "preview_updated_at" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["preview_file_name", "0.jpg"], ["preview_file_size", 8457], ["preview_updated_at", "2017-06-28 21:18:31.276623"], ["updated_at", "2017-06-28 21:18:32.076918"], ["id", 3]]
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/003/original/01.jpg
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/003/medium/01.jpg
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/003/thumb/01.jpg
  [1m[35m (237.0ms)[0m  commit transaction
Redirected to http://localhost:3000/books/3
Completed 302 Found in 1239ms (ActiveRecord: 258.4ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-29 00:18:32 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.7ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (12.4ms)
Completed 200 OK in 573ms (Views: 560.5ms | ActiveRecord: 2.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 00:18:36 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (2.3ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (2.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (46.9ms)
Completed 200 OK in 464ms (Views: 443.3ms | ActiveRecord: 7.8ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDraftsToBooks (20170628222853)
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (38.6ms)[0m  [1mALTER TABLE "books" ADD "draft" boolean[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170628222853"]]
  [1m[36m (188.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (18.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_category_id' AND type='index'

  [1m[36m (1.5ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_books_categories_on_book_id' AND type='index'
[0m
  [1m[35m (2.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (2.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:30:06 +0300
  [1m[35mActiveRecord::SchemaMigration Load (2.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.3ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (2.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (1.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (151.0ms)
Completed 200 OK in 872ms (Views: 747.4ms | ActiveRecord: 40.1ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:35:26 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.2ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (1.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (4.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (73.0ms)
Completed 200 OK in 653ms (Views: 619.4ms | ActiveRecord: 11.9ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-29 01:35:31 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.9ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (4.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (12.7ms)
Completed 200 OK in 386ms (Views: 362.2ms | ActiveRecord: 8.5ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-29 01:35:34 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.4ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.9ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (3.9ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/_form.html.erb (67.1ms)
  Rendered books/edit.html.erb within layouts/application (82.8ms)
Completed 200 OK in 507ms (Views: 491.0ms | ActiveRecord: 7.0ms)


Started PATCH "/books/3" for 127.0.0.1 at 2017-06-29 01:35:41 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WJNAec7dg+8rLG4Ir3DGXq3YH/F5FfYkBdudVr0Feji8TJw1opg0NWC0GovC8UXqRB0NIhGULr6IXroCrZZltA==", "book"=>{"name"=>"afa", "author"=>"dgfskgj", "description"=>"sjgskjg", "draft"=>"1", "category_ids"=>[""]}, "commit"=>"Update Book", "id"=>"3"}
  [1m[36mUser Load (4.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (4.1ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: draft
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mCategory Load (1.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/3
Completed 302 Found in 40ms (ActiveRecord: 10.8ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-29 01:35:41 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCategory Load (5.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  Rendered books/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 491ms (Views: 470.6ms | ActiveRecord: 6.6ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-29 01:35:47 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.1ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.6ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (1.6ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  Rendered books/_form.html.erb (22.4ms)
  Rendered books/edit.html.erb within layouts/application (41.8ms)
Completed 200 OK in 444ms (Views: 427.3ms | ActiveRecord: 4.1ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:36:17 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (5.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.2ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  Rendered books/index.html.erb within layouts/application (40.8ms)
Completed 200 OK in 465ms (Views: 448.1ms | ActiveRecord: 12.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 01:36:21 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (4.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered books/_form.html.erb (36.8ms)
  Rendered books/new.html.erb within layouts/application (57.0ms)
Completed 200 OK in 532ms (Views: 516.4ms | ActiveRecord: 5.2ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 01:37:11 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"z3VpF8FRhQhrH/xlHDy/ziz2DLchv8MxnB+HAI8rI+UrqrVbrRQy0iCHiOZxvTx6xTMeZEk+G6sRmqBUn7g8aQ==", "book"=>{"name"=>"Prototype", "author"=>"Alex Merer", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f1534c59bf8 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-7900-qm114a.png>, @original_filename="kerel.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"kerel.png\"\r\nContent-Type: image/png\r\n">, "description"=>"Dolorem ipsum set it amet", "draft"=>"0", "category_ids"=>[""]}, "commit"=>"Create Book"}
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Unpermitted parameter: draft
Command :: file -b --mime '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-asqxe4.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-xy3k19.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-xy3k19.png[0]'
Command :: convert '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-xy3k19.png[0]' -auto-orient -resize "300x300>" '/tmp/5ba82b82f87dbbc8c6f5fcb8941796ab20170629-7900-1xib3vj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-xy3k19.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-xy3k19.png[0]'
Command :: convert '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-xy3k19.png[0]' -auto-orient -resize "100x100>" '/tmp/5ba82b82f87dbbc8c6f5fcb8941796ab20170629-7900-xmc5tw'
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/5204ea73322f62aa51829094d1ccc29a20170629-7900-1q6awnn.png'
  [1m[35mSQL (29.2ms)[0m  INSERT INTO "books" ("name", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Prototype"], ["author", "Alex Merer"], ["preview_file_name", "kerel.png"], ["preview_content_type", "image/png"], ["preview_file_size", 109222], ["preview_updated_at", "2017-06-28 22:37:11.271729"], ["description", "Dolorem ipsum set it amet"], ["user_id", 1], ["created_at", "2017-06-28 22:37:12.406517"], ["updated_at", "2017-06-28 22:37:12.406517"]]
  [1m[36m (260.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/7
Completed 302 Found in 1593ms (ActiveRecord: 292.0ms)


Started GET "/books/7" for 127.0.0.1 at 2017-06-29 01:37:12 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  Rendered books/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 504ms (Views: 493.1ms | ActiveRecord: 2.4ms)


Started GET "/books/7/edit" for 127.0.0.1 at 2017-06-29 01:37:16 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (3.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.2ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.7ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 7]]
  [1m[35mCategory Load (8.9ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 7]]
  Rendered books/_form.html.erb (26.1ms)
  Rendered books/edit.html.erb within layouts/application (43.8ms)
Completed 200 OK in 480ms (Views: 457.7ms | ActiveRecord: 15.2ms)


Started PATCH "/books/7" for 127.0.0.1 at 2017-06-29 01:37:34 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9HOhoTGnZ5+Z140WhZJqWcq/pwAzdtwCNnWnu72kRKEQrH3tXeLQRdJP+ZXoE+ntI3q101v3BJi78IDvrTdbLQ==", "book"=>{"name"=>"Prototype", "author"=>"Alex Merer", "description"=>"Dolorem ipsum set it amet", "draft"=>"1", "category_ids"=>["", "6", "7"]}, "commit"=>"Update Book", "id"=>"7"}
  [1m[35mUser Load (6.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 7]]
Unpermitted parameter: draft
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (6, 7)[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  [1m[36mSQL (24.7ms)[0m  [1mINSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)[0m  [["book_id", 7], ["category_id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)  [["book_id", 7], ["category_id", 7]]
  [1m[36m (283.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/7
Completed 302 Found in 387ms (ActiveRecord: 317.7ms)


Started GET "/books/7" for 127.0.0.1 at 2017-06-29 01:37:35 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (3.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  Rendered books/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 459ms (Views: 447.2ms | ActiveRecord: 5.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:37:40 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books"
  [1m[36mCategory Load (7.4ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (6.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (3.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  [1m[36mCategory Load (2.3ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 7]]
  Rendered books/index.html.erb within layouts/application (52.4ms)
Completed 200 OK in 519ms (Views: 490.5ms | ActiveRecord: 21.9ms)
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m


Started GET "/books/7" for 127.0.0.1 at 2017-06-29 01:38:01 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.3ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCategory Load (1.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  Rendered books/show.html.erb within layouts/application (10.8ms)
Completed 200 OK in 448ms (Views: 434.1ms | ActiveRecord: 4.2ms)


Started GET "/books/7" for 127.0.0.1 at 2017-06-29 01:40:00 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCategory Load (4.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 7]]
  Rendered books/show.html.erb within layouts/application (77.8ms)
Completed 200 OK in 677ms (Views: 557.0ms | ActiveRecord: 25.7ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:40:05 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35mCategory Load (4.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (1.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (2.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (15.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  [1m[35mCategory Load (1.6ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  Rendered books/index.html.erb within layouts/application (62.1ms)
Completed 200 OK in 492ms (Views: 454.7ms | ActiveRecord: 30.1ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 01:40:22 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCategory Load (5.9ms)[0m  SELECT "categories".* FROM "categories"
  Rendered books/_form.html.erb (20.1ms)
  Rendered books/new.html.erb within layouts/application (41.2ms)
Completed 200 OK in 512ms (Views: 498.7ms | ActiveRecord: 7.2ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 01:40:41 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0jwywufcaGnF7QUNbmHHHQ4ntoO9zCA1Qc/Ws3DsZuE24+6Oi5nfs451cY4D4ESp5+KkUNVN+K/MSvHnYH95bQ==", "book"=>{"name"=>"wsdpvkSML", "author"=>"lsfKV Lk", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f153632dc80 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-7900-w973xq.jpg>, @original_filename="04.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"04.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"SldkSLDK  JFNKVA FJN  fkjnvskj", "draft"=>"1", "category_ids"=>["", "1", "3", "4"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Command :: file -b --mime '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1i5d18.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-13ufbaq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-13ufbaq.jpg[0]'
Command :: convert '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-13ufbaq.jpg[0]' -auto-orient -resize "300x300>" '/tmp/2fdeb12cc5582bc856cdd3a09f3abc8920170629-7900-z0qujh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-13ufbaq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-13ufbaq.jpg[0]'
Command :: convert '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-13ufbaq.jpg[0]' -auto-orient -resize "100x100>" '/tmp/2fdeb12cc5582bc856cdd3a09f3abc8920170629-7900-1xppr0w'
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" IN (1, 3, 4)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-buu694.jpg'
  [1m[35mSQL (31.3ms)[0m  INSERT INTO "books" ("name", "draft", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "wsdpvkSML"], ["draft", "t"], ["author", "lsfKV Lk"], ["preview_file_name", "04.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 244501], ["preview_updated_at", "2017-06-28 22:40:41.448919"], ["description", "SldkSLDK  JFNKVA FJN  fkjnvskj"], ["user_id", 1], ["created_at", "2017-06-28 22:40:42.310632"], ["updated_at", "2017-06-28 22:40:42.310632"]]
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 1], ["book_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 3], ["book_id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 4], ["book_id", 8]]
  [1m[35m (228.3ms)[0m  commit transaction
Redirected to http://localhost:3000/books/8
Completed 302 Found in 1281ms (ActiveRecord: 265.8ms)


Started GET "/books/8" for 127.0.0.1 at 2017-06-29 01:40:42 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 8]]
  Rendered books/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 545ms (Views: 531.0ms | ActiveRecord: 2.4ms)
  [1m[35mBook Load (1.0ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:45:42 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (2.6ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."drafts" = 'f' LIMIT 1[0m
Completed 500 Internal Server Error in 107ms (ActiveRecord: 7.8ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: books.drafts: SELECT  "books".* FROM "books" WHERE "books"."drafts" = 'f' LIMIT 1):
  app/controllers/books_controller.rb:7:in `index'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (17.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (31.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (2.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (69.1ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:45:44 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (2.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."drafts" = 'f' LIMIT 1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 3.7ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: books.drafts: SELECT  "books".* FROM "books" WHERE "books"."drafts" = 'f' LIMIT 1):
  app/controllers/books_controller.rb:7:in `index'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (30.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (69.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (33.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (68.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:46:03 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."draft" = ? LIMIT 1[0m  [["draft", "f"]]
  Rendered books/index.html.erb within layouts/application (19.7ms)
Completed 500 Internal Server Error in 149ms (ActiveRecord: 6.8ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:   </thead>
    16: 
    17:   <tbody>
    18:     <% @books.each do |book| %>
    19:       <tr>
    20:         <td><%= book.name %></td>
    21:         <td><%= book.author %></td>
  app/views/books/index.html.erb:18:in `_app_views_books_index_html_erb__3436726973001802581_35014380'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (22.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (40.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (71.7ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:46:35 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."draft" = ?[0m  [["draft", "f"]]
  Rendered books/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 586ms (Views: 503.3ms | ActiveRecord: 6.2ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 01:46:41 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered books/_form.html.erb (48.6ms)
  Rendered books/new.html.erb within layouts/application (60.7ms)
Completed 200 OK in 505ms (Views: 449.9ms | ActiveRecord: 13.1ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 01:46:57 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EbXAj4DOuRnl1luSHkQ0mhs/XXA7aHa4DYQsZSCp7Mz1ahzD7IsOw65OLxFzxbcu8vpPo1PpriKAAQsxMDrzQA==", "book"=>{"name"=>"FjAD KJ", "author"=>"ELDVNKQJD", "preview"=>#<ActionDispatch::Http::UploadedFile:0x00000004ada4e0 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-7900-3nhdwr.jpg>, @original_filename="04.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"04.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"dvlbeadj", "draft"=>"0", "category_ids"=>["", "1", "2"]}, "commit"=>"Create Book"}
  [1m[35mUser Load (4.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Command :: file -b --mime '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-173rrpo.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1wq8yhb.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1wq8yhb.jpg[0]'
Command :: convert '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1wq8yhb.jpg[0]' -auto-orient -resize "300x300>" '/tmp/9a18d7d8209d639ed12a50140da204bd20170629-7900-1tof0ma'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1wq8yhb.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1wq8yhb.jpg[0]'
Command :: convert '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-1wq8yhb.jpg[0]' -auto-orient -resize "100x100>" '/tmp/9a18d7d8209d639ed12a50140da204bd20170629-7900-1looyx2'
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (1, 2)[0m
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/7d0665438e81d8eceb98c1e31fca80c120170629-7900-p7pax4.jpg'
  [1m[36mSQL (8.6ms)[0m  [1mINSERT INTO "books" ("name", "draft", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "FjAD KJ"], ["draft", "f"], ["author", "ELDVNKQJD"], ["preview_file_name", "04.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 244501], ["preview_updated_at", "2017-06-28 22:46:57.228345"], ["description", "dvlbeadj"], ["user_id", 1], ["created_at", "2017-06-28 22:46:57.968035"], ["updated_at", "2017-06-28 22:46:57.968035"]]
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 1], ["book_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 2], ["book_id", 9]]
  [1m[35m (212.0ms)[0m  commit transaction
Redirected to http://localhost:3000/books/9
Completed 302 Found in 1136ms (ActiveRecord: 231.0ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 01:46:58 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.6ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (1.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  Rendered books/show.html.erb within layouts/application (9.2ms)
Completed 200 OK in 518ms (Views: 505.0ms | ActiveRecord: 4.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:47:02 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."draft" = ?[0m  [["draft", "f"]]
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  Rendered books/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 526ms (Views: 514.1ms | ActiveRecord: 5.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 01:47:24 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered books/_form.html.erb (21.4ms)
  Rendered books/new.html.erb within layouts/application (39.4ms)
Completed 200 OK in 508ms (Views: 491.3ms | ActiveRecord: 2.4ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 01:47:41 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WrIYoTmq7JE5gBx9G7CjfgQGGjJYFqo5xPtPCeoNar2+bcTtVe9bS3IYaP52MSDK7cMI4TCXcqNJfmhd+p51MQ==", "book"=>{"name"=>"Gvj fkjv ", "author"=>"glSkjfb", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f1536213e08 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-7900-1a8xehe.jpg>, @original_filename="01.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"01.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"Vkljdfkj", "draft"=>"0", "category_ids"=>[""]}, "commit"=>"Create Book"}
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-vtnzhj.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1hz5xw7.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1hz5xw7.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1hz5xw7.jpg[0]' -auto-orient -resize "300x300>" '/tmp/4a6d5089131e6ae4692233c11bf1c7b120170629-7900-u0scxa'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1hz5xw7.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1hz5xw7.jpg[0]'
Command :: convert '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1hz5xw7.jpg[0]' -auto-orient -resize "100x100>" '/tmp/4a6d5089131e6ae4692233c11bf1c7b120170629-7900-1g6dlaq'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/96a3be3cf272e017046d1b2674a52bd320170629-7900-1t9o464.jpg'
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "books" ("name", "draft", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Gvj fkjv "], ["draft", "f"], ["author", "glSkjfb"], ["preview_file_name", "01.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 262800], ["preview_updated_at", "2017-06-28 22:47:41.344526"], ["description", "Vkljdfkj"], ["user_id", 1], ["created_at", "2017-06-28 22:47:42.034440"], ["updated_at", "2017-06-28 22:47:42.034440"]]
  [1m[35m (312.6ms)[0m  commit transaction
Redirected to http://localhost:3000/books/10
Completed 302 Found in 1166ms (ActiveRecord: 318.8ms)


Started GET "/books/10" for 127.0.0.1 at 2017-06-29 01:47:42 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (4.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (2.5ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCategory Load (1.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 10]]
  Rendered books/show.html.erb within layouts/application (9.3ms)
Completed 200 OK in 557ms (Views: 541.9ms | ActiveRecord: 8.5ms)


Started GET "/books/10/edit" for 127.0.0.1 at 2017-06-29 01:47:46 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (1.0ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 10]]
  [1m[36mCategory Load (5.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 10]]
  Rendered books/_form.html.erb (28.4ms)
  Rendered books/edit.html.erb within layouts/application (43.2ms)
Completed 200 OK in 511ms (Views: 490.7ms | ActiveRecord: 7.7ms)


Started PATCH "/books/10" for 127.0.0.1 at 2017-06-29 01:47:51 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KkWcPHqBgeN9/Wycw/I8CMknfRwAb1SoUWMAyzIBa9XOmkBwFsQ2OTZlGB+uc7+8IOJvz2jujDLc5iefIpJ0WQ==", "book"=>{"name"=>"Gvj fkjv ", "author"=>"glSkjfb", "description"=>"Vkljdfkj", "draft"=>"1", "category_ids"=>["", "1", "3"]}, "commit"=>"Update Book", "id"=>"10"}
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (3.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mCategory Load (2.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" IN (1, 3)
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 10]]
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)  [["book_id", 10], ["category_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "books_categories" ("book_id", "category_id") VALUES (?, ?)[0m  [["book_id", 10], ["category_id", 3]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "books" SET "draft" = ?, "updated_at" = ? WHERE "books"."id" = ?  [["draft", "t"], ["updated_at", "2017-06-28 22:47:51.432871"], ["id", 10]]
  [1m[36m (252.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/10
Completed 302 Found in 298ms (ActiveRecord: 265.0ms)


Started GET "/books/10" for 127.0.0.1 at 2017-06-29 01:47:51 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.7ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 10]]
  Rendered books/show.html.erb within layouts/application (10.6ms)
Completed 200 OK in 506ms (Views: 496.8ms | ActiveRecord: 4.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:48:03 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT "books".* FROM "books" WHERE "books"."draft" = ?  [["draft", "f"]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  Rendered books/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 464ms (Views: 450.4ms | ActiveRecord: 2.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:55:12 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE (draft='false' OR user_id=1)[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  [1m[35mCategory Load (10.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  [1m[36mCategory Load (1.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 8]]
  [1m[35mCategory Load (2.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 10]]
  Rendered books/index.html.erb within layouts/application (186.3ms)
Completed 200 OK in 713ms (Views: 583.8ms | ActiveRecord: 43.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 01:55:23 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JP2W8dtGGlgF8Yyki3EsLnTElmLVChvpk1SPVc6tLHzAIkq9twOtgk5p+Cfm8K+anQGEsb2Lw3Me0agB3j4z8A=="}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
Redirected to http://localhost:3000/books
Completed 302 Found in 67ms (ActiveRecord: 1.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:55:24 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 01:55:24 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (4.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (64.3ms)
Completed 200 OK in 578ms (Views: 553.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-06-29 01:55:27 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 479ms (Views: 473.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-06-29 01:55:45 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MfD4M40bFquH82xUbOALHRVl1LhtR4u9FxI/O4S52SmgpqLe4hQcVtxTrM3u3R/CxIwJK90RvCDt5s++DX9EYQ==", "user"=>{"email"=>"test1@test1.test1", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test1@test1.test1' LIMIT 1
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "test1@test1.test1"], ["encrypted_password", "$2a$11$VQ9z6EUTNWxCmBdN5XvUaONkrNO3GB51TOjXE5HGfTfE93hOmyGE2"], ["created_at", "2017-06-28 22:55:45.792792"], ["updated_at", "2017-06-28 22:55:45.792792"]]
  [1m[35m (174.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (6.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-28 22:55:45.982359"], ["current_sign_in_at", "2017-06-28 22:55:45.982359"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-06-28 22:55:45.987120"], ["id", 2]]
  [1m[36m (228.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 944ms (ActiveRecord: 417.5ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 01:55:46 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (2.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE (draft='false' OR user_id=2)[0m
  Rendered books/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 557ms (Views: 546.8ms | ActiveRecord: 4.8ms)
  [1m[36mBook Load (1.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."draft" = ?[0m  [["draft", "f"]]


Started GET "/" for 127.0.0.1 at 2017-06-29 01:57:30 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" WHERE (draft='f' OR user_id=2)[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  Rendered books/index.html.erb within layouts/application (114.7ms)
Completed 200 OK in 708ms (Views: 596.3ms | ActiveRecord: 28.1ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 01:58:17 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories"
  Rendered books/_form.html.erb (15.0ms)
  Rendered books/new.html.erb within layouts/application (27.9ms)
Completed 200 OK in 393ms (Views: 383.9ms | ActiveRecord: 1.9ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 01:58:40 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"s6XhIV6hm1TWBhArBTP9JMDaA27Ej6IatKapgmp96M0i87vMMa6RqY2m0LKHDun7ETPe/XTZlYdOUlkH47t1hQ==", "book"=>{"name"=>"test1test1", "author"=>"volWJDVL", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f153528e550 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-7900-1ebgvgb.jpg>, @original_filename="SmsqnR7eBuo.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"SmsqnR7eBuo.jpg\"\r\nContent-Type: image/jpeg\r\n">, "description"=>"test1test1test1test1test1test1test1test1test1test1test1test1test1test1test1test1", "draft"=>"0", "category_ids"=>["", "1", "2"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Command :: file -b --mime '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-6ne1yr.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-a4uggn.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-a4uggn.jpg[0]'
Command :: convert '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-a4uggn.jpg[0]' -auto-orient -resize "300x300>" '/tmp/2e850c88e3033637d26c03e94509ca4520170629-7900-vq9jj4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-a4uggn.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-a4uggn.jpg[0]'
Command :: convert '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-a4uggn.jpg[0]' -auto-orient -resize "100x100>" '/tmp/2e850c88e3033637d26c03e94509ca4520170629-7900-f0wxw2'
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" IN (1, 2)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: file -b --mime '/tmp/28ff46d9fd349dfe87f1bf2d0668934c20170629-7900-1d6a7h9.jpg'
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "books" ("name", "draft", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "test1test1"], ["draft", "f"], ["author", "volWJDVL"], ["preview_file_name", "SmsqnR7eBuo.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 169108], ["preview_updated_at", "2017-06-28 22:58:40.324728"], ["description", "test1test1test1test1test1test1test1test1test1test1test1test1test1test1test1test1"], ["user_id", 2], ["created_at", "2017-06-28 22:58:41.003639"], ["updated_at", "2017-06-28 22:58:41.003639"]]
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 1], ["book_id", 11]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 2], ["book_id", 11]]
  [1m[36m (295.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/11
Completed 302 Found in 1124ms (ActiveRecord: 306.4ms)


Started GET "/books/11" for 127.0.0.1 at 2017-06-29 01:58:41 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[35mUser Load (3.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 11]]
  Rendered books/show.html.erb within layouts/application (9.6ms)
Completed 200 OK in 512ms (Views: 497.0ms | ActiveRecord: 6.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:58:44 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books" WHERE (draft='f' OR user_id=2)
  [1m[36mCategory Load (1.3ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 11]]
  Rendered books/index.html.erb within layouts/application (24.6ms)
Completed 200 OK in 465ms (Views: 451.7ms | ActiveRecord: 4.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 01:58:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GFBoEUEnpJxoa7msQ4WR6dIXjg04fiZ3TbBEl74t64aJBjL8LiiuYTPLeTXBuIU2A/5TnogoEeq3RLQSN+t2zg=="}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 19ms (ActiveRecord: 1.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 01:58:48 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 01:58:48 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (64.4ms)
Completed 200 OK in 686ms (Views: 678.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 01:59:06 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6SVRccbOwfgoQZ45zZqgNtS+c72tUs2oXJuC+Gjz8mfy7xJZCm8FzLbmGVDLVkKO+kt4qJlNwan+ciAQYqAPkg==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test@test.test"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (11.0ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["current_sign_in_at", "2017-06-28 22:59:06.925055"], ["sign_in_count", 2], ["updated_at", "2017-06-28 22:59:06.927490"], ["id", 1]]
  [1m[36m (201.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 568ms (ActiveRecord: 213.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 01:59:07 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE (draft='f' OR user_id=1)[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (1.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  [1m[36mCategory Load (8.2ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 8]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (1.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 10]]
  [1m[35mCategory Load (2.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 11]]
  Rendered books/index.html.erb within layouts/application (111.8ms)
Completed 200 OK in 661ms (Views: 632.4ms | ActiveRecord: 19.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 02:02:52 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books" WHERE (draft='f' OR user_id=1)
Completed 500 Internal Server Error in 149ms (ActiveRecord: 7.9ms)

NoMethodError (undefined method `and' for #<Book::ActiveRecord_Relation:0x007f1535ec4c20>
Did you mean?  any?):
  app/controllers/books_controller.rb:7:in `index'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (15.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (69.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (34.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (83.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 02:03:36 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (4.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND 1)
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (5.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (8.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (4.5ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  [1m[36mCategory Load (2.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 7]]
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 8]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 10]]
  [1m[36mCategory Load (5.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 11]]
  Rendered books/index.html.erb within layouts/application (196.8ms)
Completed 200 OK in 719ms (Views: 586.3ms | ActiveRecord: 57.7ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 02:05:38 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 3]]
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (7.2ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (1.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  [1m[35mCategory Load (6.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 8]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (6.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 10]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 11]]
  Rendered books/index.html.erb within layouts/application (209.2ms)
Completed 200 OK in 706ms (Views: 564.5ms | ActiveRecord: 65.2ms)
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" DESC LIMIT 1[0m
  [1m[35mBook Load (4.1ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" ASC LIMIT 1
  [1m[36mBook Load (3.2ms)[0m  [1mSELECT  "books".* FROM "books"  ORDER BY "books"."id" ASC LIMIT 1[0m
  [1m[35mBook Load (6.6ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" ASC LIMIT 1
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (16.1ms)[0m  UPDATE "books" SET "created_at" = ?, "updated_at" = ? WHERE "books"."id" = ?  [["created_at", "2017-06-21 00:00:00.000000"], ["updated_at", "2017-06-28 23:07:12.789964"], ["id", 3]]
  [1m[36m (187.1ms)[0m  [1mcommit transaction[0m


Started GET "/books" for 127.0.0.1 at 2017-06-29 02:07:17 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (5.2ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 4]]
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 5]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 6]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 7]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 8]]
  [1m[35mCategory Load (3.3ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 10]]
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 11]]
  Rendered books/index.html.erb within layouts/application (178.8ms)
Completed 200 OK in 698ms (Views: 591.1ms | ActiveRecord: 38.7ms)
  [1m[35mBook Load (1.8ms)[0m  SELECT  "books".* FROM "books"  ORDER BY "books"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  UPDATE "books" SET "created_at" = ?, "updated_at" = ? WHERE "books"."id" = ?  [["created_at", "2017-06-23 00:00:00.000000"], ["updated_at", "2017-06-28 23:07:27.247931"], ["id", 3]]
  [1m[36m (341.6ms)[0m  [1mcommit transaction[0m


Started GET "/books" for 127.0.0.1 at 2017-06-29 02:07:28 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.4ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (2.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 3]]
  [1m[35mCategory Load (2.6ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 4]]
  [1m[36mCategory Load (2.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 5]]
  [1m[35mCategory Load (3.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 6]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 7]]
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 8]]
  [1m[36mCategory Load (4.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (4.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 10]]
  [1m[36mCategory Load (8.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 11]]
  Rendered books/index.html.erb within layouts/application (109.5ms)
Completed 200 OK in 545ms (Views: 499.8ms | ActiveRecord: 34.5ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 03:30:29 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (11.5ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (154.0ms)
Completed 500 Internal Server Error in 467ms (ActiveRecord: 12.4ms)

ActionView::Template::Error (couldn't find file 'twitter-bootstrap-static/bootstrap' with type 'text/css'):
     7:     <title><%= content_for?(:title) ? yield(:title) : "Library" %></title>
     8:     <%= csrf_meta_tags %>
     9: 
    10:     <%= stylesheet_link_tag "application", :media => "all" %>
    11: 
    12:     <!-- For third-generation iPad with high-resolution Retina display: -->
    13:     <!-- Size should be 144 x 144 pixels -->
  app/assets/stylesheets/bootstrap_and_overrides.css:2
  app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb___841072953400905665_69864554043140'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (29.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (121.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (46.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (90.5ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 03:31:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (2.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (223.5ms)
Completed 200 OK in 6775ms (Views: 6520.9ms | ActiveRecord: 10.3ms)


Started GET "/assets/twitter-bootstrap-static/fontawesome.self-2fe4f8a61d73606fbcb036b41f380591906a4da65a9eb5ec0a210fe6980b2ca7.css?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/bootstrap_and_overrides.self-2cb3834583dfbaf0a39c7139750bf963e05d79cbe811126997e013400be5d8dc.css?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter-bootstrap-static/bootstrap.self-603f330c29af013305325569c8c75d03d688963abd8cde4fffec17b5ce417bfb.css?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:16 +0300


Started GET "/assets/twitter/bootstrap.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:17 +0300


Started GET "/assets/bootstrap.self-fdc98dee79ee88255e10cac6caa91338165cb76cf0d263744d8d90011fc2ef8f.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:17 +0300


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for 127.0.0.1 at 2017-06-29 03:31:17 +0300


Started GET "/images/favicon.ico" for 127.0.0.1 at 2017-06-29 03:31:18 +0300

ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (6.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (46.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (142.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (30.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (62.7ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 03:32:52 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (44.9ms)
Completed 200 OK in 1636ms (Views: 1622.9ms | ActiveRecord: 3.7ms)


Started DELETE "/books/11" for 127.0.0.1 at 2017-06-29 03:33:23 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"RmgQykrkYjuS3ux+0TiTamnK+bOTkPz+TXZStEYdjWgFge9rmZ4WkYYGyC85ThT7mEDGskJ1P8R9b9OnW4FjKA==", "id"=>"11"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (11.9ms)[0m  [1mDELETE FROM "books_categories" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 11]]
  [1m[35mSQL (5.8ms)[0m  DELETE FROM "books" WHERE "books"."id" = ?  [["id", 11]]
  [1m[36m (157.1ms)[0m  [1mcommit transaction[0m
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/011/original/SmsqnR7eBuo.jpg
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/011/medium/SmsqnR7eBuo.jpg
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/011/thumb/SmsqnR7eBuo.jpg
Redirected to http://localhost:3000/books
Completed 302 Found in 368ms (ActiveRecord: 178.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:33:23 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (7.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (4.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (34.9ms)
Completed 200 OK in 1743ms (Views: 1724.7ms | ActiveRecord: 11.9ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-29 03:33:38 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered books/_form.html.erb (69.5ms)
  Rendered books/edit.html.erb within layouts/application (84.4ms)
Completed 200 OK in 1299ms (Views: 1284.0ms | ActiveRecord: 1.7ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:33:43 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (30.7ms)
Completed 200 OK in 1317ms (Views: 1308.2ms | ActiveRecord: 4.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:35:17 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (2.8ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (47.3ms)
Completed 200 OK in 1669ms (Views: 1659.5ms | ActiveRecord: 3.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:36:03 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (5.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (34.7ms)
Completed 200 OK in 1667ms (Views: 1637.0ms | ActiveRecord: 6.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:37:24 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (4.6ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (37.1ms)
Completed 200 OK in 1564ms (Views: 1552.4ms | ActiveRecord: 6.8ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-06-29 03:37:31 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered devise/registrations/edit.html.erb within layouts/application (52.2ms)
Completed 200 OK in 1332ms (Views: 1321.4ms | ActiveRecord: 0.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 03:37:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"q/PuW+2FHnoRtHOxD3yDZ6PGhs/MXtEIceLiRt1x4dfoGhH6Pv9q0AVsV+DnCgT2Uky5zh27EjJB+2NVwO0Plw=="}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users/edit
Completed 302 Found in 56ms (ActiveRecord: 1.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-06-29 03:37:37 +0300
Processing by Devise::RegistrationsController#edit as HTML
Completed 401 Unauthorized in 9ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 03:37:37 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (84.8ms)
Completed 200 OK in 1837ms (Views: 1820.8ms | ActiveRecord: 0.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:41:08 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 03:41:09 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (22.9ms)
Completed 500 Internal Server Error in 196ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (couldn't find file 'devise_bootstrap_views' with type 'text/css'):
     7:     <title><%= content_for?(:title) ? yield(:title) : "Library" %></title>
     8:     <%= csrf_meta_tags %>
     9: 
    10:     <%= stylesheet_link_tag "application", :media => "all" %>
    11: 
    12:     <!-- For third-generation iPad with high-resolution Retina display: -->
    13:     <!-- Size should be 144 x 144 pixels -->
  app/assets/stylesheets/application.css:13
  app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__2145772547113621822_70175074414840'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (27.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (22.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (90.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (54.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (97.1ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 03:41:29 +0300
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (582.7ms)
Completed 200 OK in 6353ms (Views: 6250.9ms | ActiveRecord: 9.3ms)


Started GET "/assets/devise_bootstrap_views.self-4759bc28b2181dfd93cd08f36014a7a5fdeb84ad305f20d49d5b70c5ca85470d.css?body=1" for 127.0.0.1 at 2017-06-29 03:41:36 +0300


Started GET "/assets/application.self-d885a0a66bd595c10edb24f8879f94e334d88be0730c4d7c7a7b57c731c09037.css?body=1" for 127.0.0.1 at 2017-06-29 03:41:36 +0300


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 03:41:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y5LDC3ZU1YjfjhlQVBMYn07LYu4tqxyQMc5vPzGFFVNDfNvopEBlC+IFlQx4S3U6OSDQGnCIfYLBQaZAdzn5pQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Sign in"}
  [1m[35mUser Load (4.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test@test.test"]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.0ms)[0m  UPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_created_at", "2017-06-29 00:41:53.920165"], ["updated_at", "2017-06-29 00:41:53.926025"], ["id", 1]]
  [1m[36m (569.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (26.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2017-06-28 22:59:06.925055"], ["current_sign_in_at", "2017-06-29 00:41:54.514162"], ["sign_in_count", 3], ["updated_at", "2017-06-29 00:41:54.534460"], ["id", 1]]
  [1m[35m (157.5ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 1268ms (ActiveRecord: 762.3ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 03:41:54 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.3ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (79.9ms)
Completed 200 OK in 1586ms (Views: 1521.5ms | ActiveRecord: 8.3ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 03:42:05 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.0ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 1295ms (Views: 1272.2ms | ActiveRecord: 3.9ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 03:42:12 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (4.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (5.5ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 1393ms (Views: 1377.4ms | ActiveRecord: 10.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 03:42:23 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered books/_form.html.erb (20.5ms)
  Rendered books/new.html.erb within layouts/application (42.2ms)
Completed 200 OK in 1272ms (Views: 1236.0ms | ActiveRecord: 1.0ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 03:42:36 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EDvGXCE84AXHoxT/Rb1EgAQxcu/Pn8uBoJcXF+1pSH5oP3GscsY59NXH0+E6UAyw33vT33AIIv/Wn8fQX7ieRg==", "book"=>{"name"=>"test", "author"=>"test", "preview_file_name"=>"", "preview_content_type"=>"", "preview_file_size"=>"", "preview_updated_at"=>"", "description"=>"", "user_id"=>"", "draft"=>""}, "commit"=>"Create Book"}
  [1m[35mUser Load (4.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Unpermitted parameters: preview_file_name, preview_content_type, preview_file_size, preview_updated_at, user_id
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (7.3ms)[0m  INSERT INTO "books" ("name", "author", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "test"], ["author", "test"], ["description", ""], ["user_id", 1], ["created_at", "2017-06-29 00:42:37.048058"], ["updated_at", "2017-06-29 00:42:37.048058"]]
  [1m[36m (206.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/12
Completed 302 Found in 367ms (ActiveRecord: 218.7ms)


Started GET "/books/12" for 127.0.0.1 at 2017-06-29 03:42:37 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/show.html.erb within layouts/application (11.2ms)
Completed 200 OK in 1683ms (Views: 1675.4ms | ActiveRecord: 1.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:42:44 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (3.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (45.1ms)
Completed 200 OK in 1378ms (Views: 1363.6ms | ActiveRecord: 3.9ms)


Started GET "/books/12/edit" for 127.0.0.1 at 2017-06-29 03:43:58 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (4.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/_form.html.erb (8.2ms)
  Rendered books/edit.html.erb within layouts/application (24.7ms)
Completed 200 OK in 1378ms (Views: 1360.2ms | ActiveRecord: 4.9ms)


Started GET "/books/12/edit" for 127.0.0.1 at 2017-06-29 03:44:40 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (5.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories"
  Rendered books/_form.html.erb (133.7ms)
  Rendered books/edit.html.erb within layouts/application (165.4ms)
Completed 500 Internal Server Error in 214ms (ActiveRecord: 19.4ms)

ActionView::Template::Error (undefined method `file' for #<ActionView::Helpers::FormBuilder:0x007f1eeac6b488>
Did you mean?  fail):
    47:   <div class="form-group">
    48:     <%= f.label :preview, :class => 'control-label col-lg-2' %>
    49:     <div class="col-lg-10">
    50:       <%= f.file :preview, :class => 'form-control' %>
    51:     </div>
    52:     <%=f.error_span(:preview) %>
    53:   </div>
  app/views/books/_form.html.erb:50:in `block in _app_views_books__form_html_erb__400355802008883646_69885391646180'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__400355802008883646_69885391646180'
  app/views/books/edit.html.erb:5:in `_app_views_books_edit_html_erb__2016153926184465460_69885391576360'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (23.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (2.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (28.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (59.6ms)


Started GET "/books/12/edit" for 127.0.0.1 at 2017-06-29 03:44:49 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.7ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered books/_form.html.erb (106.9ms)
  Rendered books/edit.html.erb within layouts/application (133.7ms)
Completed 500 Internal Server Error in 191ms (ActiveRecord: 3.8ms)

ActionView::Template::Error (undefined method `file_input' for #<ActionView::Helpers::FormBuilder:0x007f1eeb50b2a0>
Did you mean?  file_field_tag):
    47:   <div class="form-group">
    48:     <%= f.label :preview, :class => 'control-label col-lg-2' %>
    49:     <div class="col-lg-10">
    50:       <%= f.file_input :preview, :class => 'form-control' %>
    51:     </div>
    52:     <%=f.error_span(:preview) %>
    53:   </div>
  app/views/books/_form.html.erb:50:in `block in _app_views_books__form_html_erb__400355802008883646_69885391481940'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__400355802008883646_69885391481940'
  app/views/books/edit.html.erb:5:in `_app_views_books_edit_html_erb__2016153926184465460_69885391576360'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (23.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (35.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (74.4ms)


Started GET "/books/12/edit" for 127.0.0.1 at 2017-06-29 03:45:14 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/_form.html.erb (53.0ms)
  Rendered books/edit.html.erb within layouts/application (67.1ms)
Completed 200 OK in 1855ms (Views: 1843.1ms | ActiveRecord: 2.6ms)


Started PATCH "/books/12" for 127.0.0.1 at 2017-06-29 03:45:26 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0WjB0tjTllwHQvq0X78atBlnWBqghZ6oZOtlhpSnl6upbHYiiylPrRUmPaogUlKEwi35Kh8Sd9YS47VBJnZBkw==", "book"=>{"name"=>"test", "author"=>"test", "description"=>"file_fieldfile_field", "draft"=>"0", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f1eebe9a578 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-15093-1cizfbc.jpg>, @original_filename="02.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"02.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Book", "id"=>"12"}
  [1m[35mUser Load (3.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (5.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35m (0.2ms)[0m  begin transaction
Command :: file -b --mime '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-icd9hg.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-1r5zsj9.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-1r5zsj9.jpg[0]'
Command :: convert '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-1r5zsj9.jpg[0]' -auto-orient -resize "300x300>" '/tmp/53d144be8749ad57a4fd183a4f7b221720170629-15093-1ctzg3d'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-1r5zsj9.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-1r5zsj9.jpg[0]'
Command :: convert '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-1r5zsj9.jpg[0]' -auto-orient -resize "100x100>" '/tmp/53d144be8749ad57a4fd183a4f7b221720170629-15093-1yx1wwp'
Command :: file -b --mime '/tmp/a2ef406e2c2351e0b9e80029c909242d20170629-15093-wysd75.jpg'
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "books" SET "draft" = ?, "preview_file_name" = ?, "preview_content_type" = ?, "preview_file_size" = ?, "preview_updated_at" = ?, "description" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["draft", "f"], ["preview_file_name", "02.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 249422], ["preview_updated_at", "2017-06-29 00:45:26.778972"], ["description", "file_fieldfile_field"], ["updated_at", "2017-06-29 00:45:28.042084"], ["id", 12]]
  [1m[35m (278.5ms)[0m  commit transaction
Redirected to http://localhost:3000/books/12
Completed 302 Found in 1692ms (ActiveRecord: 289.8ms)


Started GET "/books/12" for 127.0.0.1 at 2017-06-29 03:45:28 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (3.0ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 12]]
  Rendered books/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 1717ms (Views: 1706.1ms | ActiveRecord: 3.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 03:45:38 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.2ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (27.9ms)
Completed 200 OK in 1380ms (Views: 1371.9ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 03:46:25 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (4.0ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (33.8ms)
Completed 200 OK in 1975ms (Views: 1961.5ms | ActiveRecord: 4.8ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-06-29 03:46:51 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered devise/registrations/edit.html.erb within layouts/application (15.6ms)
Completed 200 OK in 1236ms (Views: 1225.0ms | ActiveRecord: 2.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 03:46:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"CfyoZgCviQunVUsmotP5C93+iaEiajgAhFJx65cGgkhx+B+WU1VQ+rUxjDjdPrE7BrQokZ390X7yWqEsJddUcA=="}
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.5ms)[0m  UPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_created_at", nil], ["updated_at", "2017-06-29 00:46:54.963740"], ["id", 1]]
  [1m[36m (308.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users/edit
Completed 302 Found in 339ms (ActiveRecord: 316.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-06-29 03:46:55 +0300
Processing by Devise::RegistrationsController#edit as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 03:46:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.0ms)
Completed 200 OK in 1856ms (Views: 1851.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 03:47:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1OT5azZ4TRS5mHqNWBCOP2MaXsbwUUROkoEv81PRNNvKQg/UY/vMIZcXFTO0JSGSnVE85rOO+4yEiCnXCvxadg==", "user"=>{"email"=>"test1@test1.test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test1@test1.test1"]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (9.0ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["current_sign_in_at", "2017-06-29 00:47:12.892381"], ["sign_in_count", 2], ["updated_at", "2017-06-29 00:47:12.895159"], ["id", 2]]
  [1m[36m (262.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 536ms (ActiveRecord: 273.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 03:47:13 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (17.1ms)
Completed 200 OK in 1684ms (Views: 1667.8ms | ActiveRecord: 4.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 21:39:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#new as HTML
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 777ms (ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 21:40:00 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (61.5ms)
Completed 200 OK in 4178ms (Views: 4115.5ms | ActiveRecord: 4.3ms)


Started GET "/images/favicon.ico" for 127.0.0.1 at 2017-06-29 21:40:09 +0300

ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (6.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (34.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (121.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (47.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (105.9ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 21:41:33 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (2.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 1992ms (Views: 1920.8ms | ActiveRecord: 4.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:41:39 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (4.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.2ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 1246ms (Views: 1234.3ms | ActiveRecord: 6.1ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-06-29 21:41:52 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  Rendered devise/registrations/edit.html.erb within layouts/application (125.2ms)
Completed 200 OK in 1511ms (Views: 1498.5ms | ActiveRecord: 1.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:41:58 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (4.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (21.2ms)
Completed 200 OK in 1466ms (Views: 1455.1ms | ActiveRecord: 5.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 21:42:03 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (4.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  Rendered books/_form.html.erb (54.3ms)
  Rendered books/new.html.erb within layouts/application (120.5ms)
Completed 200 OK in 1621ms (Views: 1592.3ms | ActiveRecord: 4.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:42:07 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (13.0ms)
Completed 200 OK in 1407ms (Views: 1399.3ms | ActiveRecord: 3.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 21:42:10 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"SFeRitZk0rnI8GKuo2KIXu9NLBOUZ2t+V/vxPhwqwaxuWk4OeiXj6jLUS0DZUUBeRulyFaIYQ+8o0WU1p3OcOw=="}
  [1m[36mUser Load (5.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 88ms (ActiveRecord: 5.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:42:10 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 20ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 21:42:10 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (19.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (62.8ms)
Completed 200 OK in 2002ms (Views: 1980.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 21:42:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ad34dldSnnmhGPOfsfBsBTaHOqBTgqc0ucNoawSyJkJ5xSkj6RjdZ35jpJu+8EPomDqyPhaLdBjSI2qj5aSGLw==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (28.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test@test.test"]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (37.0ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-29 00:41:54.514162"], ["current_sign_in_at", "2017-06-29 18:42:23.609475"], ["sign_in_count", 4], ["updated_at", "2017-06-29 18:42:23.615057"], ["id", 1]]
  [1m[36m (197.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1127ms (ActiveRecord: 263.4ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 21:42:23 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (56.2ms)
Completed 200 OK in 1683ms (Views: 1668.1ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 21:43:01 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (5.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (4.6ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (55.2ms)
Completed 200 OK in 1512ms (Views: 1496.5ms | ActiveRecord: 9.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 21:43:57 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (50.2ms)
Completed 200 OK in 1819ms (Views: 1810.6ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 21:44:40 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (10.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (83.7ms)
Completed 200 OK in 1598ms (Views: 1579.7ms | ActiveRecord: 11.3ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-29 21:45:42 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered books/_form.html.erb (8.3ms)
  Rendered books/edit.html.erb within layouts/application (24.4ms)
Completed 200 OK in 1271ms (Views: 1262.0ms | ActiveRecord: 2.0ms)


Started PATCH "/books/3" for 127.0.0.1 at 2017-06-29 21:45:48 +0300
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bwygyS6LQAxB4PTU0HVD3O6We3WRDmtOGaWV9E7lpI3EOJsczVuoLAdfrcSYo+R8MhgC7w8Bcxw1ospvXHE5bg==", "book"=>{"name"=>"afa", "author"=>"dgfskgj", "description"=>"sjgskjg", "draft"=>"1"}, "commit"=>"Update Book", "id"=>"3"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (11.9ms)[0m  [1mUPDATE "books" SET "draft" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["draft", "t"], ["updated_at", "2017-06-29 18:45:48.348110"], ["id", 3]]
  [1m[35m (183.4ms)[0m  commit transaction
Redirected to http://localhost:3000/books/3
Completed 302 Found in 219ms (ActiveRecord: 197.4ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-29 21:45:48 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (6.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  Rendered books/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 1846ms (Views: 1831.0ms | ActiveRecord: 8.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:49:36 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.9ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (70.6ms)
Completed 200 OK in 1389ms (Views: 1379.5ms | ActiveRecord: 4.5ms)


Started GET "/books/3/edit" for 127.0.0.1 at 2017-06-29 21:49:47 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (3.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.7ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  Rendered books/_form.html.erb (8.1ms)
  Rendered books/edit.html.erb within layouts/application (29.5ms)
Completed 200 OK in 1468ms (Views: 1457.7ms | ActiveRecord: 4.4ms)


Started GET "/books/3" for 127.0.0.1 at 2017-06-29 21:49:52 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (4.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 3]]
  Rendered books/show.html.erb within layouts/application (6.4ms)
Completed 200 OK in 1288ms (Views: 1277.0ms | ActiveRecord: 5.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:50:02 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (3.2ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (63.5ms)
Completed 200 OK in 1441ms (Views: 1405.4ms | ActiveRecord: 6.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:57:15 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.1ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (194.4ms)
Completed 500 Internal Server Error in 241ms (ActiveRecord: 3.5ms)

ActionView::Template::Error (undefined local variable or method `user_id' for #<#<Class:0x007fca88f325f0>:0x00000003e8d908>
Did you mean?  user_session):
    26:         <td><%= book.draft %></td>
    27:         <td><%=l book.created_at %></td>
    28:         <td>
    29:           <% if user_id == current_user.id %>
    30:             <%= link_to t('.edit', :default => t("helpers.links.edit")),
    31:                         edit_book_path(book), :class => 'btn btn-default btn-xs' %>
    32:             <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
  app/views/books/index.html.erb:29:in `block in _app_views_books_index_html_erb__2420549414104369481_32780720'
  app/views/books/index.html.erb:19:in `_app_views_books_index_html_erb__2420549414104369481_32780720'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (19.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (83.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (50.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (123.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:57:35 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (4.8ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (206.2ms)
Completed 500 Internal Server Error in 270ms (ActiveRecord: 8.7ms)

ActionView::Template::Error (undefined local variable or method `user' for #<#<Class:0x007fca88f325f0>:0x007fca8bd2ef08>):
    26:         <td><%= book.draft %></td>
    27:         <td><%=l book.created_at %></td>
    28:         <td>
    29:           <% if user.id == current_user.id %>
    30:             <%= link_to t('.edit', :default => t("helpers.links.edit")),
    31:                         edit_book_path(book), :class => 'btn btn-default btn-xs' %>
    32:             <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
  app/views/books/index.html.erb:29:in `block in _app_views_books_index_html_erb__2420549414104369481_70253952986580'
  app/views/books/index.html.erb:19:in `_app_views_books_index_html_erb__2420549414104369481_70253952986580'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (21.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (15.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (77.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (48.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (90.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 21:57:49 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (1.3ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (194.4ms)
Completed 500 Internal Server Error in 258ms (ActiveRecord: 16.9ms)

ActionView::Template::Error (undefined local variable or method `user_id' for #<#<Class:0x007fca88f325f0>:0x007fca8aef9730>
Did you mean?  user_session):
    26:         <td><%= book.draft %></td>
    27:         <td><%=l book.created_at %></td>
    28:         <td>
    29:           <% if user_id == current_user.id %>
    30:             <%= link_to t('.edit', :default => t("helpers.links.edit")),
    31:                         edit_book_path(book), :class => 'btn btn-default btn-xs' %>
    32:             <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
  app/views/books/index.html.erb:29:in `block in _app_views_books_index_html_erb__2420549414104369481_70253945536880'
  app/views/books/index.html.erb:19:in `_app_views_books_index_html_erb__2420549414104369481_70253945536880'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (23.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (27.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (89.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (45.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (78.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 22:00:03 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mBook Load (8.9ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (78.6ms)
Completed 200 OK in 1828ms (Views: 1809.0ms | ActiveRecord: 9.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 22:00:46 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"miVUOtcqMfkA24XDawSO0G7PkSIxPZ0pKmh4QhtF8x4xEW/vNPrZ2UZk3NMj0ilwskHouK8yhXsGbyfZCdFu/Q=="}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (4.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 28ms (ActiveRecord: 5.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 22:00:46 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 9ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 22:00:46 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (47.9ms)
Completed 200 OK in 2700ms (Views: 2694.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 22:01:08 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LDYzzLDsHPoLzPWTcSlIzzGQetra2DZ6okl5PW2kGBAm9ZsXlHgPl/FsHJn4MWM8/iT4MxOwyAIyOj5GrTA6QA==", "user"=>{"email"=>"test1@test1.test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (32.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test1@test1.test1"]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (34.9ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-29 00:47:12.892381"], ["current_sign_in_at", "2017-06-29 19:01:08.371236"], ["sign_in_count", 3], ["updated_at", "2017-06-29 19:01:08.374208"], ["id", 2]]
  [1m[36m (222.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 630ms (ActiveRecord: 290.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:01:08 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (3.6ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (21.6ms)
Completed 200 OK in 1798ms (Views: 1786.7ms | ActiveRecord: 5.7ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 22:01:26 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  Rendered books/_form.html.erb (9.0ms)
  Rendered books/new.html.erb within layouts/application (47.8ms)
Completed 200 OK in 1720ms (Views: 1714.1ms | ActiveRecord: 0.8ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 22:01:56 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+iDlw+266mQPzlwuRALnElIvB6YGrN8ZYPNnTyiK7sDFkpMDrr5acUHd9ZxaLT1qNdEN/GWogpme8w5Akbk6Xg==", "book"=>{"name"=>"test1test1", "author"=>"test1", "description"=>"test1test1test1", "draft"=>"0", "preview"=>#<ActionDispatch::Http::UploadedFile:0x007fca700c5a20 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-25687-11xl5hz.jpg>, @original_filename="NPp1ON1Cqv8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"NPp1ON1Cqv8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Command :: file -b --mime '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-yhkz12.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-110misg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-110misg.jpg[0]'
Command :: convert '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-110misg.jpg[0]' -auto-orient -resize "300x300>" '/tmp/58027af1a12d395a22ca95490fc7541520170629-25687-6g9r7e'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-110misg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-110misg.jpg[0]'
Command :: convert '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-110misg.jpg[0]' -auto-orient -resize "100x100>" '/tmp/58027af1a12d395a22ca95490fc7541520170629-25687-1fth9ql'
  [1m[35m (0.1ms)[0m  begin transaction
Command :: file -b --mime '/tmp/c9608e68508d8d327c710738c989d4ad20170629-25687-1ejgt95.jpg'
  [1m[36mSQL (52.7ms)[0m  [1mINSERT INTO "books" ("name", "draft", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test1test1"], ["draft", "f"], ["author", "test1"], ["preview_file_name", "NPp1ON1Cqv8.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 90090], ["preview_updated_at", "2017-06-29 19:01:56.406256"], ["description", "test1test1test1"], ["user_id", 2], ["created_at", "2017-06-29 19:01:58.192000"], ["updated_at", "2017-06-29 19:01:58.192000"]]
  [1m[35m (197.0ms)[0m  commit transaction
Redirected to http://localhost:3000/books/13
Completed 302 Found in 2657ms (ActiveRecord: 250.9ms)


Started GET "/books/13" for 127.0.0.1 at 2017-06-29 22:01:58 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (2.9ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 13]]
  Rendered books/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 1653ms (Views: 1632.8ms | ActiveRecord: 5.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 22:02:04 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.4ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (24.9ms)
Completed 200 OK in 1378ms (Views: 1369.5ms | ActiveRecord: 3.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 22:02:13 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JSCkdt7zU5Bcmb4Gio7szJjJCcaS1qDitKubn0hQCc4aktK2nffjhRKKF7SUoTa0/zcDnPHS/WJKq/KQ8WPdUA=="}
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 22ms (ActiveRecord: 3.1ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 22:02:13 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 22:02:13 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (27.8ms)
Completed 200 OK in 1787ms (Views: 1783.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 22:02:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EFRScD0WpLxbnIsuq36eMhIt8oThSctiZksbUz08X0Da4d18Ocq/G+mvYffu+LXkaKFUih5BXwFrzd5JDMVpfQ==", "user"=>{"email"=>"test@test.test", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "test@test.test"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (6.1ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2017-06-29 18:42:23.609475"], ["current_sign_in_at", "2017-06-29 19:02:29.362484"], ["sign_in_count", 5], ["updated_at", "2017-06-29 19:02:29.365590"], ["id", 1]]
  [1m[36m (227.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 523ms (ActiveRecord: 234.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:02:29 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (5.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (74.9ms)
Completed 200 OK in 1798ms (Views: 1784.8ms | ActiveRecord: 6.1ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:04:12 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (5.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (6.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (79.1ms)
Completed 200 OK in 1686ms (Views: 1665.6ms | ActiveRecord: 12.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:04:36 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (5.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (5.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (64.4ms)
Completed 200 OK in 1782ms (Views: 1766.2ms | ActiveRecord: 10.4ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:11:02 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (93.9ms)
Completed 200 OK in 2470ms (Views: 2306.1ms | ActiveRecord: 48.9ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:11:15 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mBook Load (10.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=1) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (70.3ms)
Completed 200 OK in 1599ms (Views: 1575.6ms | ActiveRecord: 18.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-06-29 22:11:20 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"caV8A2rKxO/nMCIdyAlntH3J9kYXXP8XNtyX4yrfTS1ChcGGqtqhCSJiCAFT5Uu3gZx0T0+XtiiLATm2HXcw6w=="}
  [1m[35mUser Load (5.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:11:21 +0300
Processing by BooksController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-06-29 22:11:21 +0300
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (51.1ms)
Completed 200 OK in 2405ms (Views: 2394.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-06-29 22:11:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"omqwYXnF4Tei+MNHKYRUtAtlY4d9XvK1jVIbyKKghbW545LLO3YQVwEXXxkWGrHI8FsEpeS1GJWu6LBl6uyS6Q==", "user"=>{"email"=>"test1@test1.test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (4.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "test1@test1.test1"]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (28.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2017-06-29 19:01:08.371236"], ["current_sign_in_at", "2017-06-29 19:11:42.980517"], ["sign_in_count", 4], ["updated_at", "2017-06-29 19:11:42.983303"], ["id", 2]]
  [1m[35m (189.8ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 496ms (ActiveRecord: 222.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:11:43 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (5.9ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (24.2ms)
Completed 200 OK in 1713ms (Views: 1698.7ms | ActiveRecord: 9.4ms)


Started DELETE "/books/3" for 127.0.0.1 at 2017-06-29 22:12:10 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"VZXGNIvxktW2Qa8/Esy/t18Ji/24qHot38oDsL7y2WVmtXuxS+H3M3MThSOJIJO0o1wJ9OBjMxJiF63liVqkow==", "id"=>"3"}
Can't verify CSRF token authenticity
Completed 422 Unprocessable Entity in 5ms (ActiveRecord: 0.0ms)

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/vendor_ruby/action_controller/metal/request_forgery_protection.rb:181:in `handle_unverified_request'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/request_forgery_protection.rb:209:in `handle_unverified_request'
  devise (4.3.0) lib/devise/controllers/helpers.rb:253:in `handle_unverified_request'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/request_forgery_protection.rb:204:in `verify_authenticity_token'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:432:in `block in make_lambda'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:164:in `block in halting'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:504:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:504:in `each'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:504:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:92:in `__run_callbacks__'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
  /usr/lib/ruby/vendor_ruby/abstract_controller/callbacks.rb:19:in `process_action'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/rescue.rb:29:in `process_action'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  /usr/lib/ruby/vendor_ruby/active_support/notifications.rb:164:in `block in instrument'
  /usr/lib/ruby/vendor_ruby/active_support/notifications/instrumenter.rb:20:in `instrument'
  /usr/lib/ruby/vendor_ruby/active_support/notifications.rb:164:in `instrument'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/instrumentation.rb:30:in `process_action'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/params_wrapper.rb:250:in `process_action'
  /usr/lib/ruby/vendor_ruby/active_record/railties/controller_runtime.rb:18:in `process_action'
  /usr/lib/ruby/vendor_ruby/abstract_controller/base.rb:137:in `process'
  /usr/lib/ruby/vendor_ruby/action_view/rendering.rb:30:in `process'
  /usr/lib/ruby/vendor_ruby/action_controller/metal.rb:196:in `dispatch'
  /usr/lib/ruby/vendor_ruby/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  /usr/lib/ruby/vendor_ruby/action_controller/metal.rb:237:in `block in action'
  /usr/lib/ruby/vendor_ruby/action_dispatch/routing/route_set.rb:74:in `dispatch'
  /usr/lib/ruby/vendor_ruby/action_dispatch/routing/route_set.rb:43:in `serve'
  /usr/lib/ruby/vendor_ruby/action_dispatch/journey/router.rb:43:in `block in serve'
  /usr/lib/ruby/vendor_ruby/action_dispatch/journey/router.rb:30:in `each'
  /usr/lib/ruby/vendor_ruby/action_dispatch/journey/router.rb:30:in `serve'
  /usr/lib/ruby/vendor_ruby/action_dispatch/routing/route_set.rb:817:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `catch'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  /usr/lib/ruby/vendor_ruby/rack/etag.rb:24:in `call'
  /usr/lib/ruby/vendor_ruby/rack/conditionalget.rb:38:in `call'
  /usr/lib/ruby/vendor_ruby/rack/head.rb:13:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/params_parser.rb:27:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/flash.rb:260:in `call'
  /usr/lib/ruby/vendor_ruby/rack/session/abstract/id.rb:225:in `context'
  /usr/lib/ruby/vendor_ruby/rack/session/abstract/id.rb:220:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/cookies.rb:560:in `call'
  /usr/lib/ruby/vendor_ruby/active_record/query_cache.rb:36:in `call'
  /usr/lib/ruby/vendor_ruby/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  /usr/lib/ruby/vendor_ruby/active_record/migration.rb:377:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:88:in `__run_callbacks__'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:778:in `_run_call_callbacks'
  /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/callbacks.rb:27:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/reloader.rb:73:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/remote_ip.rb:78:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (17.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (98.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (5.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (2.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (50.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (92.2ms)


Started DELETE "/books/13" for 127.0.0.1 at 2017-06-29 22:12:47 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"tfLyzrLQ+2S0HzdJ3rfBBU8hOc5zvji/SGLoDYWpVa7gD1Jz0vn93tOwIkL4K+Nse43l9GL/r9HaY1Q/jdmkwQ==", "id"=>"13"}
  [1m[36mUser Load (6.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (3.0ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 13]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 9.9ms)

ArgumentError (wrong number of arguments (given 0, expected 1)):
  app/controllers/books_controller.rb:80:in `protect_book'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (13.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (53.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (42.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (93.9ms)


Started DELETE "/books/13" for 127.0.0.1 at 2017-06-29 22:13:03 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"tfLyzrLQ+2S0HzdJ3rfBBU8hOc5zvji/SGLoDYWpVa7gD1Jz0vn93tOwIkL4K+Nse43l9GL/r9HaY1Q/jdmkwQ==", "id"=>"13"}
  [1m[36mUser Load (8.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "books_categories" WHERE "books_categories"."book_id" = ?  [["book_id", 13]]
  [1m[36mSQL (15.8ms)[0m  [1mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 13]]
  [1m[35m (228.3ms)[0m  commit transaction
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/013/original/NPp1ON1Cqv8.jpg
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/013/medium/NPp1ON1Cqv8.jpg
[paperclip] deleting /media/barkass/Data/Ð Ð°Ð±Ð¾Ñ‚Ð°/Test_task/Sloboda_test_task/public/system/books/previews/000/000/013/thumb/NPp1ON1Cqv8.jpg
Redirected to http://localhost:3000/books
Completed 302 Found in 673ms (ActiveRecord: 272.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 22:13:04 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.1ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (28.4ms)
Completed 200 OK in 1702ms (Views: 1688.3ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:58:37 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (1279.3ms)
Completed 200 OK in 7212ms (Views: 6699.5ms | ActiveRecord: 9.8ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 22:59:03 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (6.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 1614ms (Views: 1600.1ms | ActiveRecord: 8.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 22:59:07 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (3.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  Rendered books/_form.html.erb (144.3ms)
  Rendered books/new.html.erb within layouts/application (177.4ms)
Completed 500 Internal Server Error in 251ms (ActiveRecord: 3.3ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f3c83ba1ac8>
Did you mean?  category_ids):
    46:   <div class="form-group">
    47:     <%= f.label :category, :class => 'control-label col-lg-2' %>
    48:     <div class="col-lg-10">
    49:       <%= f.select :category, :class => 'form-control' %>
    50:     </div>
    51:     <%=f.error_span(:category) %>
    52:   </div>
  app/views/books/_form.html.erb:49:in `block in _app_views_books__form_html_erb__1721643762964918924_69948922885940'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1721643762964918924_69948922885940'
  app/views/books/new.html.erb:5:in `_app_views_books_new_html_erb___2492013649441389116_69948923090100'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (23.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (73.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (47.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (114.0ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 22:59:09 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  Rendered books/_form.html.erb (40.4ms)
  Rendered books/new.html.erb within layouts/application (55.3ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f3c6074ce00>
Did you mean?  category_ids):
    46:   <div class="form-group">
    47:     <%= f.label :category, :class => 'control-label col-lg-2' %>
    48:     <div class="col-lg-10">
    49:       <%= f.select :category, :class => 'form-control' %>
    50:     </div>
    51:     <%=f.error_span(:category) %>
    52:   </div>
  app/views/books/_form.html.erb:49:in `block in _app_views_books__form_html_erb__1721643762964918924_29372940'
  app/views/books/_form.html.erb:1:in `_app_views_books__form_html_erb__1721643762964918924_29372940'
  app/views/books/new.html.erb:5:in `_app_views_books_new_html_erb___2492013649441389116_29406520'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (25.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (15.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (82.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (66.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (117.8ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 22:59:29 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (10.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  Rendered books/_form.html.erb (189.6ms)
  Rendered books/new.html.erb within layouts/application (211.6ms)
Completed 200 OK in 1976ms (Views: 1960.1ms | ActiveRecord: 11.9ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 23:05:56 +0300
Processing by BooksController#new as HTML
  [1m[36mUser Load (6.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (25.6ms)[0m  SELECT "categories".* FROM "categories"
  Rendered books/_form.html.erb (124.0ms)
  Rendered books/new.html.erb within layouts/application (152.9ms)
Completed 200 OK in 1733ms (Views: 1674.4ms | ActiveRecord: 53.2ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 23:06:09 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0f1M20huLWXTio8E+G1RB2G5sHt6ubuikrGqke7T5wWEAOxmKEcr37Qlmg/e8XNuVRVsQWv4LMwAsBaj5qMWag==", "book"=>{"name"=>"", "author"=>"", "description"=>"", "draft"=>"0", "category_ids"=>["", "12", "13", "14"]}, "commit"=>"Create Book"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCategory Load (7.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" IN (12, 13, 14)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (30.0ms)[0m  INSERT INTO "books" ("name", "draft", "author", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", ""], ["draft", "f"], ["author", ""], ["description", ""], ["user_id", 2], ["created_at", "2017-06-29 20:06:10.078166"], ["updated_at", "2017-06-29 20:06:10.078166"]]
  [1m[36mSQL (17.9ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 12], ["book_id", 14]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 13], ["book_id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 14], ["book_id", 14]]
  [1m[35m (199.5ms)[0m  commit transaction
Redirected to http://localhost:3000/books/14
Completed 302 Found in 592ms (ActiveRecord: 257.2ms)


Started GET "/books/14" for 127.0.0.1 at 2017-06-29 23:06:10 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (3.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 14]]
  Rendered books/show.html.erb within layouts/application (10.8ms)
Completed 200 OK in 1719ms (Views: 1695.8ms | ActiveRecord: 5.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:06:17 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.1ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (22.1ms)
Completed 200 OK in 1541ms (Views: 1531.3ms | ActiveRecord: 4.5ms)


Started GET "/images/original/missing.png" for 127.0.0.1 at 2017-06-29 23:06:19 +0300

ActionController::RoutingError (No route matches [GET] "/images/original/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (10.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (22.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (133.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (30.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (82.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:07:52 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (9.2ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  Rendered books/index.html.erb within layouts/application (85.1ms)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 9.9ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f3c8046d5e8>
Did you mean?  category_ids):
    23:         <td><%= book.name %></td>
    24:         <td><%= book.author %></td>
    25:         <td><%= book.description %></td>
    26:         <td><%= book.category %></td>
    27:         <td><%=l book.created_at %></td>
    28:         <td>
    29:           <% if book.user_id == current_user.id %>
  app/views/books/index.html.erb:26:in `block in _app_views_books_index_html_erb__2129642706347089689_69948918575160'
  app/views/books/index.html.erb:19:in `_app_views_books_index_html_erb__2129642706347089689_69948918575160'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (19.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (16.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (2.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (42.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (90.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:08:17 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (5.8ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  [1m[36m (1.8ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35m (3.4ms)[0m  SELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 12]]
  [1m[36m (0.8ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 14]]
  Rendered books/index.html.erb within layouts/application (114.6ms)
Completed 200 OK in 1724ms (Views: 1706.0ms | ActiveRecord: 12.6ms)


Started GET "/images/original/missing.png" for 127.0.0.1 at 2017-06-29 23:08:19 +0300

ActionController::RoutingError (No route matches [GET] "/images/original/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (21.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (9.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (3.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (105.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (7.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (46.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (91.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:08:53 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (5.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (3.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (97.2ms)
Completed 500 Internal Server Error in 158ms (ActiveRecord: 9.1ms)

ActionView::Template::Error (undefined method `category_name' for #<Book:0x007f3c836e83d8>
Did you mean?  category_ids
               categories
               category_ids=):
    23:         <td><%= book.name %></td>
    24:         <td><%= book.author %></td>
    25:         <td><%= book.description %></td>
    26:         <td><%= book.category_name %></td>
    27:         <td><%=l book.created_at %></td>
    28:         <td>
    29:           <% if book.user_id == current_user.id %>
  app/views/books/index.html.erb:26:in `block in _app_views_books_index_html_erb__2129642706347089689_69948940465680'
  app/views/books/index.html.erb:19:in `_app_views_books_index_html_erb__2129642706347089689_69948940465680'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (24.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (15.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (83.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (54.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (111.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:09:12 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (2.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (33.0ms)
Completed 200 OK in 1686ms (Views: 1674.1ms | ActiveRecord: 2.8ms)


Started GET "/images/original/missing.png" for 127.0.0.1 at 2017-06-29 23:09:14 +0300

ActionController::RoutingError (No route matches [GET] "/images/original/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (11.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (101.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (2.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (3.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (35.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (2.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (88.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:10:05 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (4.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.5ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (52.3ms)
Completed 500 Internal Server Error in 122ms (ActiveRecord: 5.7ms)

ActionView::Template::Error (undefined method `category' for #<Book:0x007f3c600d7598>
Did you mean?  category_ids):
    23:         <td><%= book.name %></td>
    24:         <td><%= book.author %></td>
    25:         <td><%= book.description %></td>
    26:         <td><%= book.category.name %></td>
    27:         <td><%=l book.created_at %></td>
    28:         <td>
    29:           <% if book.user_id == current_user.id %>
  app/views/books/index.html.erb:26:in `block in _app_views_books_index_html_erb__2129642706347089689_69948944469200'
  app/views/books/index.html.erb:19:in `_app_views_books_index_html_erb__2129642706347089689_69948944469200'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (20.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (33.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (71.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:10:39 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  Rendered books/index.html.erb within layouts/application (34.9ms)
Completed 200 OK in 1743ms (Views: 1717.4ms | ActiveRecord: 4.0ms)


Started GET "/images/original/missing.png" for 127.0.0.1 at 2017-06-29 23:10:42 +0300

ActionController::RoutingError (No route matches [GET] "/images/original/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (19.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (3.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (13.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (115.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (8.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (88.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (146.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:12:02 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (2.4ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  [1m[35mCategory Load (2.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 14]]
  Rendered books/index.html.erb within layouts/application (42.6ms)
Completed 200 OK in 1651ms (Views: 1632.7ms | ActiveRecord: 9.3ms)


Started GET "/images/original/missing.png" for 127.0.0.1 at 2017-06-29 23:12:04 +0300

ActionController::RoutingError (No route matches [GET] "/images/original/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (5.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (3.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (92.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (9.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (63.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (128.0ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:17:31 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (3.9ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 1320ms (Views: 1309.6ms | ActiveRecord: 4.8ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:18:14 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.2ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (120.0ms)
Completed 500 Internal Server Error in 168ms (ActiveRecord: 2.1ms)

ActionView::Template::Error (undefined local variable or method `book' for #<#<Class:0x00000003288fe0>:0x007f3c608e4768>
Did you mean?  @book):
     9:   <dt><strong><%= model_class.human_attribute_name(:author) %>:</strong></dt>
    10:   <dd><%= @book.author %></dd>
    11:   <dt><strong><%= model_class.human_attribute_name(:preview) %>:</strong></dt>
    12:   <dd><%= image_tag(book.preview) %></dd>
    13:   <dt><strong><%= model_class.human_attribute_name(:description) %>:</strong></dt>
    14:   <dd><%= @book.description %></dd>
    15:   <dt><strong><%= model_class.human_attribute_name(:user_id) %>:</strong></dt>
  app/views/books/show.html.erb:12:in `_app_views_books_show_html_erb__81974719778807965_69948647217640'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (21.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (39.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (76.6ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:18:28 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 1678ms (Views: 1666.8ms | ActiveRecord: 3.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:18:39 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 12]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 14]]
  Rendered books/index.html.erb within layouts/application (37.9ms)
Completed 200 OK in 1252ms (Views: 1240.6ms | ActiveRecord: 5.4ms)


Started GET "/images/original/missing.png" for 127.0.0.1 at 2017-06-29 23:18:40 +0300

ActionController::RoutingError (No route matches [GET] "/images/original/missing.png"):
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/web_console/middleware.rb:39:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:38:in `call_app'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `block in call'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `block in tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:26:in `tagged'
  /usr/lib/ruby/vendor_ruby/active_support/tagged_logging.rb:68:in `tagged'
  /usr/lib/ruby/vendor_ruby/rails/rack/logger.rb:20:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/request_id.rb:21:in `call'
  /usr/lib/ruby/vendor_ruby/rack/methodoverride.rb:22:in `call'
  /usr/lib/ruby/vendor_ruby/rack/runtime.rb:18:in `call'
  /usr/lib/ruby/vendor_ruby/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/static.rb:120:in `call'
  /usr/lib/ruby/vendor_ruby/rack/sendfile.rb:113:in `call'
  /usr/lib/ruby/vendor_ruby/rails/engine.rb:518:in `call'
  /usr/lib/ruby/vendor_ruby/rails/application.rb:165:in `call'
  /usr/lib/ruby/vendor_ruby/rack/lock.rb:17:in `call'
  /usr/lib/ruby/vendor_ruby/rack/content_length.rb:15:in `call'
  /usr/lib/ruby/vendor_ruby/rack/handler/webrick.rb:88:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (5.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (4.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (75.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (31.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (65.3ms)


Started DELETE "/books/14" for 127.0.0.1 at 2017-06-29 23:18:50 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"dzc+IpoqjpQMs6QRKlpL5/ejvrdi62jNscMZ+bMrhG4iyp6f+gOILmscsRoMxmmOww9ijXOq/6MjwqXLu1t1AQ==", "id"=>"14"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (7.5ms)[0m  [1mDELETE FROM "books_categories" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 14]]
  [1m[35mSQL (6.4ms)[0m  DELETE FROM "books" WHERE "books"."id" = ?  [["id", 14]]
  [1m[36m (207.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 249ms (ActiveRecord: 223.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:18:50 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (2.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (4.7ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  Rendered books/index.html.erb within layouts/application (39.1ms)
Completed 200 OK in 1932ms (Views: 1915.6ms | ActiveRecord: 9.1ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:18:54 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (7.7ms)
Completed 200 OK in 1390ms (Views: 1376.7ms | ActiveRecord: 2.0ms)


Started DELETE "/books/9" for 127.0.0.1 at 2017-06-29 23:19:08 +0300
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"GX3gL2GCopPkDMYo9Tm2I4F5TU1IR6UqkLvTTcSYZ4FMgECSAaukKYOj0yPTpZRKtdWRd1kGMkQCum9/zOiW7g==", "id"=>"9"}
  [1m[35mUser Load (7.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (2.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 9]]
Completed 404 Not Found in 17ms (ActiveRecord: 10.0ms)

ActionController::RoutingError (Not Found):
  app/controllers/books_controller.rb:81:in `protect_book'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_route.html.erb (5.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/routes/_table.html.erb (3.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (76.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (44.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (88.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:19:20 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  Rendered books/index.html.erb within layouts/application (29.3ms)
Completed 200 OK in 1387ms (Views: 1371.6ms | ActiveRecord: 3.6ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 23:20:20 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered books/_form.html.erb (20.2ms)
  Rendered books/new.html.erb within layouts/application (34.5ms)
Completed 200 OK in 1365ms (Views: 1358.2ms | ActiveRecord: 1.9ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:20:24 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  Rendered books/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 1633ms (Views: 1620.2ms | ActiveRecord: 3.6ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 23:20:27 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (4.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered books/_form.html.erb (16.9ms)
  Rendered books/new.html.erb within layouts/application (31.1ms)
Completed 200 OK in 1465ms (Views: 1453.5ms | ActiveRecord: 5.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:21:56 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  Rendered books/index.html.erb within layouts/application (25.9ms)
Completed 200 OK in 1304ms (Views: 1289.9ms | ActiveRecord: 3.6ms)


Started GET "/books/12" for 127.0.0.1 at 2017-06-29 23:22:00 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/show.html.erb within layouts/application (103.4ms)
Completed 500 Internal Server Error in 151ms (ActiveRecord: 1.8ms)

ActionView::Template::Error (undefined local variable or method `book' for #<#<Class:0x00000003288fe0>:0x007f3c8337ad18>
Did you mean?  @book):
    20: 
    21: <%= link_to t('.back', :default => t("helpers.links.back")),
    22:               books_path, :class => 'btn btn-default'  %>
    23:   <% if book.user_id == current_user.id %>
    24:     <%= link_to t('.edit', :default => t("helpers.links.edit")),
    25:                   edit_book_path(@book), :class => 'btn btn-default' %>
    26:     <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
  app/views/books/show.html.erb:23:in `_app_views_books_show_html_erb__81974719778807965_69948938112240'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (19.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.5ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (32.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (62.8ms)


Started GET "/books/12" for 127.0.0.1 at 2017-06-29 23:22:01 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (2.0ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/show.html.erb within layouts/application (127.2ms)
Completed 500 Internal Server Error in 178ms (ActiveRecord: 4.1ms)

ActionView::Template::Error (undefined local variable or method `book' for #<#<Class:0x00000003288fe0>:0x007f3c602efe20>
Did you mean?  @book):
    20: 
    21: <%= link_to t('.back', :default => t("helpers.links.back")),
    22:               books_path, :class => 'btn btn-default'  %>
    23:   <% if book.user_id == current_user.id %>
    24:     <%= link_to t('.edit', :default => t("helpers.links.edit")),
    25:                   edit_book_path(@book), :class => 'btn btn-default' %>
    26:     <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
  app/views/books/show.html.erb:23:in `_app_views_books_show_html_erb__81974719778807965_69948644226420'


  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_source.erb (20.2ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.4ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /usr/lib/ruby/vendor_ruby/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/console.js.erb within layouts/javascript (32.0ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /usr/lib/ruby/vendor_ruby/web_console/templates/index.html.erb (66.1ms)


Started GET "/books/12" for 127.0.0.1 at 2017-06-29 23:22:26 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/show.html.erb within layouts/application (10.1ms)
Completed 200 OK in 1877ms (Views: 1861.6ms | ActiveRecord: 1.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:22:35 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  Rendered books/index.html.erb within layouts/application (27.6ms)
Completed 200 OK in 1271ms (Views: 1261.2ms | ActiveRecord: 3.7ms)


Started GET "/books/new" for 127.0.0.1 at 2017-06-29 23:22:39 +0300
Processing by BooksController#new as HTML
  [1m[35mUser Load (3.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered books/_form.html.erb (16.9ms)
  Rendered books/new.html.erb within layouts/application (33.0ms)
Completed 200 OK in 1495ms (Views: 1483.2ms | ActiveRecord: 3.8ms)


Started POST "/books" for 127.0.0.1 at 2017-06-29 23:23:37 +0300
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ca7igH1yfzSSV3ko3+/Mj8obKnG+NPG4eSVafs4fnFNcU0I9HVt5jvX4bCP5c+7m/rf2S691ZtbrJOZMxm9tPA==", "book"=>{"name"=>"Dolorem Ipsum", "author"=>"Set Amet", "description"=>"Lorem ipsum dolor sit amet lorem ipsum dolor sit amet. Alorem ipsum dolor sit amet, lorem ipsum dolor sit amet.", "draft"=>"1", "category_ids"=>["", "10", "12", "16"], "preview"=>#<ActionDispatch::Http::UploadedFile:0x007f3c839a7ce0 @tempfile=#<Tempfile:/tmp/RackMultipart20170629-29105-7bygo.jpg>, @original_filename="0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[preview]\"; filename=\"0.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Command :: file -b --mime '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-i4w3x4.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-g1r5p6.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-g1r5p6.jpg[0]'
Command :: convert '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-g1r5p6.jpg[0]' -auto-orient -resize "300x300>" '/tmp/fa7808a39ecadf4d6d53065e8abf7fed20170629-29105-9u859d'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-g1r5p6.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-g1r5p6.jpg[0]'
Command :: convert '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-g1r5p6.jpg[0]' -auto-orient -resize "100x100>" '/tmp/fa7808a39ecadf4d6d53065e8abf7fed20170629-29105-1fds7ga'
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (10, 12, 16)[0m
  [1m[35m (0.2ms)[0m  begin transaction
Command :: file -b --mime '/tmp/cfcd208495d565ef66e7dff9f98764da20170629-29105-26gwgu.jpg'
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "books" ("name", "draft", "author", "preview_file_name", "preview_content_type", "preview_file_size", "preview_updated_at", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Dolorem Ipsum"], ["draft", "t"], ["author", "Set Amet"], ["preview_file_name", "0.jpg"], ["preview_content_type", "image/jpeg"], ["preview_file_size", 8457], ["preview_updated_at", "2017-06-29 20:23:37.698517"], ["description", "Lorem ipsum dolor sit amet lorem ipsum dolor sit amet. Alorem ipsum dolor sit amet, lorem ipsum dolor sit amet."], ["user_id", 2], ["created_at", "2017-06-29 20:23:38.608357"], ["updated_at", "2017-06-29 20:23:38.608357"]]
  [1m[35mSQL (9.9ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 10], ["book_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)[0m  [["category_id", 12], ["book_id", 15]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "books_categories" ("category_id", "book_id") VALUES (?, ?)  [["category_id", 16], ["book_id", 15]]
  [1m[36m (199.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/books/15
Completed 302 Found in 1326ms (ActiveRecord: 213.8ms)


Started GET "/books/15" for 127.0.0.1 at 2017-06-29 23:23:39 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 15]]
  Rendered books/show.html.erb within layouts/application (9.6ms)
Completed 200 OK in 1593ms (Views: 1582.8ms | ActiveRecord: 2.1ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:23:45 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (30.1ms)
Completed 200 OK in 1231ms (Views: 1216.0ms | ActiveRecord: 4.4ms)


Started GET "/books/15/edit" for 127.0.0.1 at 2017-06-29 23:23:50 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.1ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36m (0.7ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  [1m[35mCategory Load (5.4ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  Rendered books/_form.html.erb (23.5ms)
  Rendered books/edit.html.erb within layouts/application (39.7ms)
Completed 200 OK in 1313ms (Views: 1294.1ms | ActiveRecord: 8.0ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:23:55 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  [1m[35mCategory Load (3.1ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (43.1ms)
Completed 200 OK in 1296ms (Views: 1280.7ms | ActiveRecord: 6.8ms)


Started GET "/books/15/edit" for 127.0.0.1 at 2017-06-29 23:24:10 +0300
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.3ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36m (0.8ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  [1m[35mCategory Load (5.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "categories".id FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  Rendered books/_form.html.erb (27.8ms)
  Rendered books/edit.html.erb within layouts/application (41.7ms)
Completed 200 OK in 1364ms (Views: 1344.3ms | ActiveRecord: 8.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:24:14 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (27.0ms)
Completed 200 OK in 1457ms (Views: 1444.4ms | ActiveRecord: 4.5ms)


Started GET "/books/15" for 127.0.0.1 at 2017-06-29 23:24:17 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.1ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 15]]
  Rendered books/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 1165ms (Views: 1155.1ms | ActiveRecord: 4.4ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:28:29 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.0ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (3.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (3.5ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 12]]
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (170.1ms)
Completed 200 OK in 1831ms (Views: 1714.5ms | ActiveRecord: 39.5ms)


Started GET "/books/12" for 127.0.0.1 at 2017-06-29 23:28:35 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1[0m  [["id", 12]]
  Rendered books/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 1371ms (Views: 1360.6ms | ActiveRecord: 2.3ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:29:36 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (3.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (49.0ms)
Completed 200 OK in 1828ms (Views: 1807.7ms | ActiveRecord: 7.8ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:29:40 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.2ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 1416ms (Views: 1403.5ms | ActiveRecord: 1.9ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:30:04 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (6.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.4ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (28.5ms)
Completed 200 OK in 1704ms (Views: 1685.8ms | ActiveRecord: 7.6ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:30:20 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (0.8ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (7.7ms)
Completed 200 OK in 1698ms (Views: 1687.6ms | ActiveRecord: 1.7ms)


Started GET "/books/9" for 127.0.0.1 at 2017-06-29 23:36:59 +0300
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (4.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (3.1ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT 1  [["id", 9]]
  Rendered books/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 1820ms (Views: 1802.6ms | ActiveRecord: 7.2ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:37:06 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (1.4ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (0.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 12]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (35.9ms)
Completed 200 OK in 1277ms (Views: 1266.7ms | ActiveRecord: 4.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-06-29 23:37:11 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  Rendered devise/registrations/edit.html.erb within layouts/application (58.6ms)
Completed 200 OK in 1338ms (Views: 1325.9ms | ActiveRecord: 0.8ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:37:31 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (2.7ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (3.1ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 12]]
  [1m[36mCategory Load (2.0ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (60.4ms)
Completed 200 OK in 1442ms (Views: 1421.1ms | ActiveRecord: 9.6ms)


Started GET "/books" for 127.0.0.1 at 2017-06-29 23:38:37 +0300
Processing by BooksController#index as HTML
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')[0m
  [1m[35mCategory Load (3.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 9]]
  [1m[36mCategory Load (5.5ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 12]]
  [1m[35mCategory Load (3.6ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (54.3ms)
Completed 200 OK in 1754ms (Views: 1733.9ms | ActiveRecord: 15.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-29 23:38:43 +0300
Processing by BooksController#index as HTML
  [1m[36mUser Load (3.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books" WHERE ((draft='f' OR user_id=2) AND DATE(created_at) >= '2017-06-22')
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 9]]
  [1m[35mCategory Load (1.7ms)[0m  SELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?  [["book_id", 12]]
  [1m[36mCategory Load (0.8ms)[0m  [1mSELECT "categories".* FROM "categories" INNER JOIN "books_categories" ON "categories"."id" = "books_categories"."category_id" WHERE "books_categories"."book_id" = ?[0m  [["book_id", 15]]
  Rendered books/index.html.erb within layouts/application (40.0ms)
Completed 200 OK in 1284ms (Views: 1269.7ms | ActiveRecord: 7.5ms)
